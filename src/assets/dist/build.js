webpackJsonp([4],{2:function(e,n,t){var r=t(0);n.shake=function(e,n){n="undefined"==typeof n?10:n;var t=2*n;return r(e).width(r(e).width()).animate({marginLeft:"+="+n},50).animate({marginLeft:"-="+t},50).animate({marginLeft:"+="+t},50).animate({marginLeft:"-="+n},50).queue(function(){r(e).css("width","").css("margin-left","").finish()})},n.onLongPress=function(e,n){var t=!1,r=function(e){t=!0},a=function(e){t=!1};e.addEventListener("touchstart",r),e.addEventListener("touchend",a),e.addEventListener("touchcancel",a),e.addEventListener("touchmove",a),e.addEventListener("contextmenu",function(e){if(t)return n(e)})},n.setProgress=function(e,n,t){var r=e.children[0],a=e.children[1];n=Math.floor(n),n>=100?e.className="progress success":e.className="progress active",r.style.width=n+"%",r.innerText=n+"%","undefined"!=typeof t&&(a.innerText=t)},n.handleLogin=function(e){var t=r("body").data("path").replace(/\/$/,"");r("#login").find("input").prop("disabled",!1),r("#login").submit(function(){var a=r(this).find('[name="request_token"]').val();return r(this).find("input").prop("disabled",!0),r.ajax({url:t,method:"post",data:{request_token:a,username:r("#username").val(),password:r("#password").val(),remember:r("#remember_remember").is(":checked")?{remember:"remember"}:null},success:function(){r("#login").off("submit"),r("#password").val(""),e()},error:function(e){r("#login").find("input").prop("disabled",!1),n.shake(r(".login-frame")),r("#username").select(),r("#password").val("")},global:!1}),!1})},n.handleError=function(e,t,a,o){return 401===t.status?(r("#login-overlay").show(),r("#password").focus(),void n.handleLogin(function(){r("#login-overlay").hide(),r.ajax(a)})):("undefined"!=typeof t.responseJSON?alert(t.responseJSON.message):alert(t.responseText),n.shake(r("main > .frame")),void console.log(e,t,a,o))}},3:function(e,n,t){function r(e,n){for(var t=e.toLowerCase().split(/-|\+/),r={ctrlKey:"",altKey:"",shiftKey:""},e=t[t.length-1],a=0;a<t.length-1;a++)switch(t[a]){case"c":r.ctrlKey="c-";break;case"a":r.altKey="a-";break;case"s":r.shiftKey="s-"}e=r.ctrlKey+r.altKey+r.shiftKey+e,u[e]=n}function a(e,n){d[e]=n,c('[data-action="'+e+'"]').click(function(e){return e.preventDefault(),e.stopPropagation(),n(),!1})}function o(e){d[e]()}function s(e){"string"==typeof e?c('[data-action="'+e+'"]').attr("disabled",!1):e.forEach(s)}function i(e){"string"==typeof e?c('[data-action="'+e+'"]').attr("disabled",!0):e.forEach(i)}var c=t(0);n.define=a,n.enable=s,n.disable=i,n.activate=o,n.bind=r;var d={},u={};c(window).keydown(function(e){if(!e.defaultPrevented){var n="";return e.ctrlKey&&(n+="c-"),e.altKey&&(n+="a-"),e.shiftKey&&(n+="s-"),n+=e.key.toLowerCase(),console.log("pressed "+n),u.hasOwnProperty(n)?(o(u[n]),!1):void 0}})},4:function(e,n){function t(e){var e=e.replace(/\/[^\/]+$/,"");return""===e?"/":e}function r(e){return e.replace(/^.*\//,"")}function a(e,n){e=e.trim(),e.startsWith("/")||(e=n+"/"+e);for(var t=e.split("/"),r=[],a=0;a<t.length;a++)".."===t[a]?r.length>=1&&r.pop():""!==t[a]&&"."!==t[a]&&r.push(t[a]);return"/"+r.join("/")}n.dirName=t,n.fileName=r,n.convert=a},49:function(e,n,t){function r(){s.setProgress(d,0,"Building..."),a.ajax({url:i+"/api/build",method:"post",data:{request_token:c},progress:function(e){e.upload.onprogress=function(e){if(e.lengthComputable){var n=e.loaded/e.total*50;s.setProgress(d,n)}},e.onprogress=function(e){if(e.lengthComputable){var n=50+e.loaded/e.total*50;s.setProgress(d,n)}}},success:function(e){s.setProgress(d,100,"Done")},error:function(){s.shake(a(".frame")),s.setProgress(d,100,"Error")}})}var a=t(0),o=t(3),s=(t(4),t(2)),i=a("body").data("path").replace(/\/$/,""),c=a("#build").data("token"),d=a("#build-progress")[0];o.define("build",r)}},[49]);
//# sourceMappingURL=build.js.map
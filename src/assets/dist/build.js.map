{"version":3,"sources":["webpack:///dist/build.js","webpack:///./common/paths.js?9de7****","webpack:///./build.js","webpack:///./common/ui.js?8332***","webpack:////home/www/blogstep/~/js-cookie/src/js.cookie.js?cd36***"],"names":["webpackJsonp","2","module","exports","__webpack_require__","dirName","path","replace","fileName","convert","cwd","trim","startsWith","names","split","stack","i","length","pop","push","join","25","build","target","doCancel","self","disableAction","enableAction","start","performance","now","ui","setProgress","progressBar","$statusHistory","val","progress","status","updateProgress","pct","updateStatus","message","error","t","line","toFixed","post","url","success","request","XMLHttpRequest","open","setRequestHeader","BLOGSTEP","addToken","onreadystatechange","this","readyState","responseText","send","done","repeat","received","PATH","text","state","events","matches","match","type","data","preview","contentWindow","location","reload","setTimeout","cancel","always","clean","recursive","init","app","frame","find","src","defineAction","menu","addMenu","addItem","onOpen","args","3","$","Cookies","ajaxSetup","headers","X-Csrf-Token","get","shake","el","amount","dbl","width","animate","marginLeft","queue","css","finish","onLongPress","callback","touching","e","end","addEventListener","bar","children","label","Math","floor","className","style","innerText","handleLogin","prop","show","submit","ajax","method","username","password","remember","is","overflow","whiteSpace","hide","off","xhr","select","global","handleError","event","settings","thrownError","newToken","focus","responseJSON","alert","console","log","4","__WEBPACK_AMD_DEFINE_FACTORY__","__WEBPACK_AMD_DEFINE_RESULT__","factory","registeredInModuleLoader","undefined","call","OldCookies","window","api","noConflict","extend","result","arguments","attributes","key","converter","value","document","defaults","expires","Date","setMilliseconds","getMilliseconds","toUTCString","JSON","stringify","test","write","encodeURIComponent","String","decodeURIComponent","escape","stringifiedAttributes","attributeName","cookie","cookies","rdecode","parts","slice","json","charAt","name","read","parse","set","getJSON","apply","remove","withConverter"],"mappings":"AAAAA,cAAc,IAERC,EACA,SAAUC,EAAQC,EAASC,GAEjC,YCMA,SAASC,GAAQC,GAEb,GAAIA,GAAOA,EAAKC,QAAQ,YAAa,GACrC,OAAa,KAATD,EACO,IAEJA,EAGX,QAASE,GAASF,GAEd,MAAOA,GAAKC,QAAQ,QAAS,IAGjC,QAASE,GAAQH,EAAMI,GAEnBJ,EAAOA,EAAKK,OACPL,EAAKM,WAAW,OACjBN,EAAOI,EAAM,IAAMJ,EAIvB,KAAK,GAFDO,GAAQP,EAAKQ,MAAM,KACnBC,KACKC,EAAI,EAAGA,EAAIH,EAAMI,OAAQD,IACb,OAAbH,EAAMG,GACFD,EAAME,QAAU,GAChBF,EAAMG,MAEU,KAAbL,EAAMG,IAA0B,MAAbH,EAAMG,IAChCD,EAAMI,KAAKN,EAAMG,GAGzB,OAAO,IAAMD,EAAMK,KAAK,KAnC5BjB,EAAQE,QAAUA,EAClBF,EAAQK,SAAWA,EACnBL,EAAQM,QAAUA,GD2CZY,GACA,SAAUnB,EAAQC,EAASC,GAEjC,YEpCA,SAASkB,GAAMC,GACXA,EAASA,EAAOhB,QAAQ,UAAW,IACnCiB,GAAW,EACXC,EAAKC,cAAc,aACnBD,EAAKE,aAAa,SAClB,IAAIC,GAAQC,YAAYC,KACxBC,GAAGC,YAAYC,EAAa,EAAG,eAC/BC,EAAeC,IAAI,GAEnB,IAAIC,GAAW,EACXC,EAAS,cAETC,EAAiB,SAAUC,GAC3BH,EAAWG,EACXR,EAAGC,YAAYC,EAAaG,EAAUC,IAGtCG,EAAe,SAAUC,EAASC,GAClCL,EAASI,EACTV,EAAGC,YAAYC,EAAaG,EAAUC,EACtC,IAAIM,IAAKd,YAAYC,MAAQF,GAAS,IAClCgB,EAAOD,EAAEE,QAAQ,GAAK,KAAOR,CACjCH,GAAeC,IAAIS,EAAO,KAAOV,EAAeC,QAIhDW,EAAO,SAAUC,EAAKC,GACtB,GAAIC,GAAU,GAAIC,eAClBD,GAAQE,KAAK,OAAQJ,GAAK,GAC1BE,EAAQG,iBAAiB,eAAgB,oDACzCH,EAAQG,iBAAiB,mBAAoB,kBAC7CC,SAASC,SAASL,GAElBA,EAAQM,mBAAqB,WACD,IAApBC,KAAKC,YAAwC,IAApBD,KAAKC,YAC1BD,KAAKnB,QAAU,KAAOmB,KAAKnB,OAAS,KAChCmB,KAAKE,cACLV,EAAQQ,KAAKE,aAAcF,KAAKC,WAAYD,KAAKnB,SAKjEY,EAAQU,KAAK,UAAYpC,IAGzBqC,GAAO,GACE,QAATC,KACA,IAAIrC,EAAJ,CAGA,GAAIsC,GAAW,CACfhB,GAAKO,SAASU,KAAO,aAAc,SAAUC,EAAMC,EAAO5B,GAEtD,IAAK,GADD6B,GAASF,EAAKlD,MAAM,UACfE,EAAI8C,EAAU9C,EAAIkD,EAAOjD,OAAQD,IAAK,CAC3C,GAAImD,GAAUD,EAAOlD,GAAGoD,MAAM,uBAC9B,IAAgB,OAAZD,EAAkB,CAClBL,GACA,IAAIO,GAAOF,EAAQ,GACfG,EAAOH,EAAQ,EACnB,QAAQE,GACJ,IAAK,OAMD,MALA/B,GAAe,KACfsB,GAAO,EACPnC,EAAKE,aAAa,aAClBF,EAAKC,cAAc,cACnB6C,GAAQC,cAAcC,SAASC,QAEnC,KAAK,QAGD,MAFAd,IAAO,MACPpB,GAAa8B,EAEjB,KAAK,SACD9B,EAAa8B,EACb,MACJ,KAAK,WACDhC,EAAegC,KAK1BV,GAAkB,IAAVK,IACQ,IAAbH,EACAa,WAAWd,EAAQ,KAEnBA,WAOpB,QAASe,KACLpD,GAAW,EACX6B,SAASP,KAAK,UAAWxC,KAAM,kBAAkBuE,OAAO,WACpDpD,EAAKE,aAAa,aAClBF,EAAKC,cAAc,YAI3B,QAASoD,KACLtD,GAAW,EACX6B,SAASP,KAAK,UAAWxC,KAAM,SAAUyE,WAAW,IAjHxD,GAEIhD,IAFI3B,EAAQ,GACJA,EAAQ,GACXA,EAAQ,IAEbqB,EAAO,KAEPQ,EAAc,KACdC,EAAiB,KACjBqC,EAAU,KAEV/C,GAAW,CA2Gf6B,UAAS2B,KAAK,UAAW,SAAUC,GAC/BxD,EAAOwD,EAEPhD,EAAcgD,EAAIC,MAAMC,KAAK,mBAAmB,GAChDjD,EAAiB+C,EAAIC,MAAMC,KAAK,yBAChCZ,EAAUU,EAAIC,MAAMC,KAAK,kBAAkB,GAC3CZ,EAAQa,IAAM/B,SAASU,KAAO,eAE9BkB,EAAII,aAAa,YAAa/D,GAC9B2D,EAAII,aAAa,gBAAiB/D,GAClC2D,EAAII,aAAa,iBAAkB/D,GACnC2D,EAAII,aAAa,iBAAkB/D,GACnC2D,EAAII,aAAa,gBAAiB/D,GAClC2D,EAAII,aAAa,SAAUT,GAC3BK,EAAII,aAAa,QAASP,EAE1B,IAAIQ,GAAOL,EAAIM,QAAQ,UACvBD,GAAKE,QAAQ,QAAS,aACtBF,EAAKE,QAAQ,UAAW,WACpBjB,EAAQa,IAAM/B,SAASU,KAAO,iBAElCuB,EAAKE,QAAQ,SAAU,UACvBF,EAAKE,QAAQ,QAAS,SACtBF,EAAKE,QAAQ,QAAS,SAEtBP,EAAIQ,OAAS,SAAUR,EAAKS,GACxBT,EAAItD,aAAa,aACjBsD,EAAIvD,cAAc,cF0DpBiE,EACA,SAAUzF,EAAQC,EAASC,GAEjC,YG7MA,IAAIwF,GAAIxF,EAAQ,GACZyF,EAAUzF,EAAQ,EAEtBwF,GAAEE,WACEC,SAAWC,eAAgBH,EAAQI,IAAI,iBAG3C9F,EAAQ+F,MAAQ,SAAUC,EAAIC,GAC1BA,MAA2B,KAAXA,EAAyB,GAAKA,CAC9C,IAAIC,GAAe,EAATD,CACV,OAAOR,GAAEO,GAAIG,MAAMV,EAAEO,GAAIG,SAChBC,SAASC,WAAY,KAAOJ,GAAS,IACrCG,SAASC,WAAY,KAAOH,GAAM,IAClCE,SAASC,WAAY,KAAOH,GAAM,IAClCE,SAASC,WAAY,KAAOJ,GAAS,IACrCK,MAAM,WACHb,EAAEO,GAAIO,IAAI,QAAS,IACVA,IAAI,cAAe,IACnBC,YAIzBxG,EAAQyG,YAAc,SAAST,EAAIU,GAC/B,GAAIC,IAAW,EAEXlF,EAAQ,SAAUmF,GAClBD,GAAW,GAGXE,EAAM,SAAUD,GAChBD,GAAW,EAGfX,GAAGc,iBAAiB,aAAcrF,GAClCuE,EAAGc,iBAAiB,WAAYD,GAChCb,EAAGc,iBAAiB,cAAeD,GACnCb,EAAGc,iBAAiB,YAAaD,GACjCb,EAAGc,iBAAiB,cAAe,SAAUF,GACzC,GAAID,EACA,MAAOD,GAASE,MAK5B5G,EAAQ6B,YAAc,SAASmE,EAAI/D,EAAUC,GACzC,GAAI6E,GAAMf,EAAGgB,SAAS,GAClBC,EAAQjB,EAAGgB,SAAS,EACxB/E,GAAWiF,KAAKC,MAAMlF,GAElB+D,EAAGoB,UADHnF,GAAY,IACG,mBAEA,kBAEnB8E,EAAIM,MAAMlB,MAAQlE,EAAW,IAC7B8E,EAAIO,UAAYrF,EAAW,QACL,KAAXC,IACP+E,EAAMK,UAAYpF,IAI1BlC,EAAQuH,YAAc,SAAU9D,GAC5B,GAAItD,GAAOsF,EAAE,QAAQtB,KAAK,QAAQ/D,QAAQ,MAAO,GACjDqF,GAAE,UAAUT,KAAK,SAASwC,KAAK,YAAY,GAC3C/B,EAAE,gBAAgBgC,OAClBhC,EAAE,UAAUiC,OAAO,WA0Bf,MAzBAjC,GAAEpC,MAAM2B,KAAK,SAASwC,KAAK,YAAY,GACvC/B,EAAEkC,MACE/E,IAAKzC,EACLyH,OAAQ,OACRzD,MACI0D,SAAUpC,EAAE,mBAAmBzD,MAC/B8F,SAAUrC,EAAE,mBAAmBzD,MAC/B+F,SAAUtC,EAAE,mBAAmBuC,GAAG,aAAgBD,SAAU,YAAe,MAE/ElF,QAAS,WACL4C,EAAE,gBAAgBc,KAAK0B,SAAU,SAAUC,WAAY,YAAY9B,SAASD,MAAO,GAAI,WACnFV,EAAEpC,MAAM8E,OAAO5B,KAAK0B,SAAU,GAAIC,WAAY,GAAI/B,MAAO,KACzDV,EAAE,UAAU2C,IAAI,UAChB3C,EAAE,mBAAmBzD,IAAI,IACzByB,OAGRlB,MAAO,SAAU8F,GACb5C,EAAE,UAAUT,KAAK,SAASwC,KAAK,YAAY,GAC3CxH,EAAQ+F,MAAMN,EAAE,iBAChBA,EAAE,mBAAmB6C,SACrB7C,EAAE,mBAAmBzD,IAAI,KAE7BuG,QAAQ,KAEL,KAIfvI,EAAQwI,YAAc,SAAUC,EAAOJ,EAAKK,EAAUC,GAClD,GAAIC,GAAWlD,EAAQI,IAAI,aAC3B,OAAI4C,GAAS9C,QAAQ,kBAAoBgD,GACrCnD,EAAEE,WACEC,SAAWC,eAAgB+C,KAE/BF,EAAS9C,QAAQ,gBAAkBgD,MACnCnD,GAAEkC,KAAKe,IAGQ,MAAfL,EAAInG,QACJuD,EAAE,kBAAkBgC,OACe,KAA/BhC,EAAE,mBAAmBzD,MACrByD,EAAE,mBAAmBoD,QAErBpD,EAAE,mBAAmBoD,YAEzB7I,GAAQuH,YAAY,WAChB9B,EAAE,kBAAkB0C,OACpB1C,EAAEkC,KAAKe,WAGwB,KAArBL,EAAIS,aAClBC,MAAMV,EAAIS,aAAaxG,SAEvByG,MAAMV,EAAI9E,cAEdvD,EAAQ+F,MAAMN,EAAE,6BAChBuD,SAAQC,IAAIR,EAAOJ,EAAKK,EAAUC,MHqNhCO,EACA,SAAUnJ,EAAQC,EAASC,GIvVjC,GAAAkJ,GAAAC,GAOC,SAAAC,GACD,GAAAC,IAAA,CASA,IAPAH,EAAA,MAAAI,MAAAH,EAAA,kBAAAD,KAAAK,KAAAxJ,EAAAC,EAAAD,EAAAD,GAAAoJ,KAAApJ,EAAAC,QAAAoJ,GACAE,GAAA,EAGAvJ,EAAAC,QAAAqJ,IACAC,GAAA,GAEAA,EAAA,CACA,GAAAG,GAAAC,OAAAhE,QACAiE,EAAAD,OAAAhE,QAAA2D,GACAM,GAAAC,WAAA,WAEA,MADAF,QAAAhE,QAAA+D,EACAE,KAGC,WACD,QAAAE,KAGA,IAFA,GAAAhJ,GAAA,EACAiJ,KACQjJ,EAAAkJ,UAAAjJ,OAAsBD,IAAA,CAC9B,GAAAmJ,GAAAD,UAAAlJ,EACA,QAAAoJ,KAAAD,GACAF,EAAAG,GAAAD,EAAAC,GAGA,MAAAH,GAGA,QAAAjF,GAAAqF,GACA,QAAAP,GAAAM,EAAAE,EAAAH,GACA,GAAAF,EACA,uBAAAM,UAAA,CAMA,GAAAL,UAAAjJ,OAAA,GAKA,GAJAkJ,EAAAH,GACA1J,KAAA,KACKwJ,EAAAU,SAAAL,GAEL,gBAAAA,GAAAM,QAAA,CACA,GAAAA,GAAA,GAAAC,KACAD,GAAAE,gBAAAF,EAAAG,kBAAA,MAAAT,EAAAM,SACAN,EAAAM,UAIAN,EAAAM,QAAAN,EAAAM,QAAAN,EAAAM,QAAAI,cAAA,EAEA,KACAZ,EAAAa,KAAAC,UAAAT,GACA,UAAcU,KAAAf,KACdK,EAAAL,GAEK,MAAAlD,IAMLuD,EAJAD,EAAAY,MAIAZ,EAAAY,MAAAX,EAAAF,GAHAc,mBAAAC,OAAAb,IACA/J,QAAA,4DAAA6K,oBAKAhB,EAAAc,mBAAAC,OAAAf,IACAA,IAAA7J,QAAA,2BAAA6K,oBACAhB,IAAA7J,QAAA,UAAA8K,OAEA,IAAAC,GAAA,EAEA,QAAAC,KAAApB,GACAA,EAAAoB,KAGAD,GAAA,KAAgCC,GAChC,IAAApB,EAAAoB,KAGAD,GAAA,IAAAnB,EAAAoB,IAEA,OAAAhB,UAAAiB,OAAApB,EAAA,IAAAE,EAAAgB,EAKAlB,IACAH,KAUA,KAJA,GAAAwB,GAAAlB,SAAAiB,OAAAjB,SAAAiB,OAAA1K,MAAA,SACA4K,EAAA,mBACA1K,EAAA,EAESA,EAAAyK,EAAAxK,OAAoBD,IAAA,CAC7B,GAAA2K,GAAAF,EAAAzK,GAAAF,MAAA,KACA0K,EAAAG,EAAAC,MAAA,GAAAxK,KAAA,IAEAoC,MAAAqI,MAAA,MAAAL,EAAAM,OAAA,KACAN,IAAAI,MAAA,MAGA,KACA,GAAAG,GAAAJ,EAAA,GAAApL,QAAAmL,EAAAN,mBAKA,IAJAI,EAAAnB,EAAA2B,KACA3B,EAAA2B,KAAAR,EAAAO,GAAA1B,EAAAmB,EAAAO,IACAP,EAAAjL,QAAAmL,EAAAN,oBAEA5H,KAAAqI,KACA,IACAL,EAAAV,KAAAmB,MAAAT,GACO,MAAAzE,IAGP,GAAAqD,IAAA2B,EAAA,CACA9B,EAAAuB,CACA,OAGApB,IACAH,EAAA8B,GAAAP,GAEK,MAAAzE,KAGL,MAAAkD,IAsBA,MAnBAH,GAAAoC,IAAApC,EACAA,EAAA7D,IAAA,SAAAmE,GACA,MAAAN,GAAAH,KAAAG,EAAAM,IAEAN,EAAAqC,QAAA,WACA,MAAArC,GAAAsC,OACAP,MAAA,MACID,MAAAjC,KAAAO,aAEJJ,EAAAU,YAEAV,EAAAuC,OAAA,SAAAjC,EAAAD,GACAL,EAAAM,EAAA,GAAAJ,EAAAG,GACAM,SAAA,MAIAX,EAAAwC,cAAAtH,EAEA8E,EAGA,MAAA9E,GAAA,mBJmWG","file":"dist/build.js","sourcesContent":["webpackJsonp([5],{\n\n/***/ 2:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n/* \n * BlogSTEP \n * Copyright (c) 2016 Niels Sonnich Poulsen (http://nielssp.dk)\n * Licensed under the MIT license.\n * See the LICENSE file or http://opensource.org/licenses/MIT for more information.\n */\n\nexports.dirName = dirName;\nexports.fileName = fileName;\nexports.convert = convert;\n\nfunction dirName(path) {\n    var path = path.replace(/\\/[^\\/]+$/, '');\n    if (path === '') {\n        return '/';\n    }\n    return path;\n}\n\nfunction fileName(path) {\n    return path.replace(/^.*\\//, '');\n}\n\nfunction convert(path, cwd) {\n    path = path.trim();\n    if (!path.startsWith('/')) {\n        path = cwd + '/' + path;\n    }\n    var names = path.split('/');\n    var stack = [];\n    for (var i = 0; i < names.length; i++) {\n        if (names[i] === '..') {\n            if (stack.length >= 1) {\n                stack.pop();\n            }\n        } else if (names[i] !== '' && names[i] !== '.') {\n            stack.push(names[i]);\n        }\n    }\n    return '/' + stack.join('/');\n}\n\n/***/ }),\n\n/***/ 25:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n/*\n * BlogSTEP \n * Copyright (c) 2016 Niels Sonnich Poulsen (http://nielssp.dk)\n * Licensed under the MIT license.\n * See the LICENSE file or http://opensource.org/licenses/MIT for more information.\n */\n\nvar $ = __webpack_require__(0);\nvar paths = __webpack_require__(2);\nvar ui = __webpack_require__(3);\n\nvar self = null;\n\nvar progressBar = null;\nvar $statusHistory = null;\nvar preview = null;\n\nvar doCancel = false;\n\nfunction build(target) {\n    target = target.replace(/^build-/, '');\n    doCancel = false;\n    self.disableAction('build-all');\n    self.enableAction('cancel');\n    var start = performance.now();\n    ui.setProgress(progressBar, 0, 'Building...');\n    $statusHistory.val('');\n\n    var progress = 0;\n    var status = 'Building...';\n\n    var updateProgress = function updateProgress(pct) {\n        progress = pct;\n        ui.setProgress(progressBar, progress, status);\n    };\n\n    var updateStatus = function updateStatus(message, error) {\n        status = message;\n        ui.setProgress(progressBar, progress, status);\n        var t = (performance.now() - start) / 1000;\n        var line = t.toFixed(3) + ': ' + status;\n        $statusHistory.val(line + \"\\n\" + $statusHistory.val());\n    };\n\n    var post = function post(url, success) {\n        var request = new XMLHttpRequest();\n        request.open('POST', url, true);\n        request.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded; charset=UTF-8');\n        request.setRequestHeader('X-Requested-With', 'XMLHttpRequest');\n        BLOGSTEP.addToken(request);\n\n        request.onreadystatechange = function () {\n            if (this.readyState === 3 || this.readyState === 4) {\n                if (this.status >= 200 && this.status < 400) {\n                    if (this.responseText) success(this.responseText, this.readyState, this.status);\n                }\n            }\n        };\n\n        request.send('target=' + target);\n    };\n\n    var done = false;\n    var repeat = function repeat() {\n        if (doCancel) {\n            return;\n        }\n        var received = 0;\n        post(BLOGSTEP.PATH + '/api/build', function (text, state, status) {\n            var events = text.split(/[\\n\\r]/);\n            for (var i = received; i < events.length; i++) {\n                var matches = events[i].match(/^([a-zA-Z]+): *(.*)$/);\n                if (matches !== null) {\n                    received++;\n                    var type = matches[1];\n                    var data = matches[2];\n                    switch (type) {\n                        case 'done':\n                            updateProgress(100);\n                            done = true;\n                            self.enableAction('build-all');\n                            self.disableAction('cancel');\n                            preview.contentWindow.location.reload();\n                            return;\n                        case 'error':\n                            done = true;\n                            updateStatus(data, true);\n                            return;\n                        case 'status':\n                            updateStatus(data, false);\n                            break;\n                        case 'progress':\n                            updateProgress(data);\n                            break;\n                    }\n                }\n            }\n            if (!done && state === 4) {\n                if (received === 0) setTimeout(repeat, 2000);else repeat();\n            }\n        });\n    };\n    repeat();\n}\n\nfunction cancel() {\n    doCancel = true;\n    BLOGSTEP.post('delete', { path: '/build/.build' }).always(function () {\n        self.enableAction('build-all');\n        self.disableAction('cancel');\n    });\n}\n\nfunction clean() {\n    doCancel = true;\n    BLOGSTEP.post('delete', { path: '/build', recursive: true });\n}\n\nBLOGSTEP.init('builder', function (app) {\n    self = app;\n\n    progressBar = app.frame.find('.build-progress')[0];\n    $statusHistory = app.frame.find('.build-status-history');\n    preview = app.frame.find('.build-preview')[0];\n    preview.src = BLOGSTEP.PATH + '/api/preview';\n\n    app.defineAction('build-all', build);\n    app.defineAction('build-content', build);\n    app.defineAction('build-template', build);\n    app.defineAction('build-assemble', build);\n    app.defineAction('build-install', build);\n    app.defineAction('cancel', cancel);\n    app.defineAction('clean', clean);\n\n    var menu = app.addMenu('Builder');\n    menu.addItem('Build', 'build-all');\n    menu.addItem('Preview', function () {\n        preview.src = BLOGSTEP.PATH + '/api/preview';\n    });\n    menu.addItem('Cancel', 'cancel');\n    menu.addItem('Clean', 'clean');\n    menu.addItem('Close', 'close');\n\n    app.onOpen = function (app, args) {\n        app.enableAction('build-all');\n        app.disableAction('cancel');\n    };\n});\n\n/***/ }),\n\n/***/ 3:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n/*\n * BlogSTEP\n * Copyright (c) 2016 Niels Sonnich Poulsen (http://nielssp.dk)\n * Licensed under the MIT license.\n * See the LICENSE file or http://opensource.org/licenses/MIT for more information.\n */\n\nvar $ = __webpack_require__(0);\nvar Cookies = __webpack_require__(4);\n\n$.ajaxSetup({\n    headers: { 'X-Csrf-Token': Cookies.get('csrf_token') }\n});\n\nexports.shake = function (el, amount) {\n    amount = typeof amount === \"undefined\" ? 10 : amount;\n    var dbl = amount * 2;\n    return $(el).width($(el).width()).animate({ marginLeft: '+=' + amount }, 50).animate({ marginLeft: '-=' + dbl }, 50).animate({ marginLeft: '+=' + dbl }, 50).animate({ marginLeft: '-=' + amount }, 50).queue(function () {\n        $(el).css('width', '').css('margin-left', '').finish();\n    });\n};\n\nexports.onLongPress = function (el, callback) {\n    var touching = false;\n\n    var start = function start(e) {\n        touching = true;\n    };\n\n    var end = function end(e) {\n        touching = false;\n    };\n\n    el.addEventListener('touchstart', start);\n    el.addEventListener('touchend', end);\n    el.addEventListener('touchcancel', end);\n    el.addEventListener('touchmove', end);\n    el.addEventListener('contextmenu', function (e) {\n        if (touching) {\n            return callback(e);\n        }\n    });\n};\n\nexports.setProgress = function (el, progress, status) {\n    var bar = el.children[0];\n    var label = el.children[1];\n    progress = Math.floor(progress);\n    if (progress >= 100) {\n        el.className = 'progress success';\n    } else {\n        el.className = 'progress active';\n    }\n    bar.style.width = progress + '%';\n    bar.innerText = progress + '%';\n    if (typeof status !== 'undefined') {\n        label.innerText = status;\n    }\n};\n\nexports.handleLogin = function (done) {\n    var path = $('body').data('path').replace(/\\/$/, '');\n    $('#login').find('input').prop('disabled', false);\n    $('#login-frame').show();\n    $('#login').submit(function () {\n        $(this).find('input').prop('disabled', true);\n        $.ajax({\n            url: path,\n            method: 'post',\n            data: {\n                username: $('#login-username').val(),\n                password: $('#login-password').val(),\n                remember: $('#login-remember').is(':checked') ? { remember: 'remember' } : null\n            },\n            success: function success() {\n                $('#login-frame').css({ overflow: 'hidden', whiteSpace: 'no-wrap' }).animate({ width: 0 }, function () {\n                    $(this).hide().css({ overflow: '', whiteSpace: '', width: '' });\n                    $('#login').off('submit');\n                    $('#login-password').val('');\n                    done();\n                });\n            },\n            error: function error(xhr) {\n                $('#login').find('input').prop('disabled', false);\n                exports.shake($('#login-frame'));\n                $('#login-username').select();\n                $('#login-password').val('');\n            },\n            global: false\n        });\n        return false;\n    });\n};\n\nexports.handleError = function (event, xhr, settings, thrownError) {\n    var newToken = Cookies.get('csrf_token');\n    if (settings.headers['X-Csrf-Token'] !== newToken) {\n        $.ajaxSetup({\n            headers: { 'X-Csrf-Token': newToken }\n        });\n        settings.headers['X-Csrf-Token'] = newToken;\n        $.ajax(settings);\n        return;\n    }\n    if (xhr.status === 401) {\n        $('#login-overlay').show();\n        if ($('#login-username').val() === '') {\n            $('#login-username').focus();\n        } else {\n            $('#login-password').focus();\n        }\n        exports.handleLogin(function () {\n            $('#login-overlay').hide();\n            $.ajax(settings);\n        });\n        return;\n    } else if (typeof xhr.responseJSON !== 'undefined') {\n        alert(xhr.responseJSON.message);\n    } else {\n        alert(xhr.responseText);\n    }\n    exports.shake($('main > .frame.active'));\n    console.log(event, xhr, settings, thrownError);\n};\n\n/***/ }),\n\n/***/ 4:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_RESULT__;/*!\n * JavaScript Cookie v2.2.0\n * https://github.com/js-cookie/js-cookie\n *\n * Copyright 2006, 2015 Klaus Hartl & Fagner Brack\n * Released under the MIT license\n */\n;(function (factory) {\n\tvar registeredInModuleLoader = false;\n\tif (true) {\n\t\t!(__WEBPACK_AMD_DEFINE_FACTORY__ = (factory),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.call(exports, __webpack_require__, exports, module)) :\n\t\t\t\t__WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t\tregisteredInModuleLoader = true;\n\t}\n\tif (true) {\n\t\tmodule.exports = factory();\n\t\tregisteredInModuleLoader = true;\n\t}\n\tif (!registeredInModuleLoader) {\n\t\tvar OldCookies = window.Cookies;\n\t\tvar api = window.Cookies = factory();\n\t\tapi.noConflict = function () {\n\t\t\twindow.Cookies = OldCookies;\n\t\t\treturn api;\n\t\t};\n\t}\n}(function () {\n\tfunction extend () {\n\t\tvar i = 0;\n\t\tvar result = {};\n\t\tfor (; i < arguments.length; i++) {\n\t\t\tvar attributes = arguments[ i ];\n\t\t\tfor (var key in attributes) {\n\t\t\t\tresult[key] = attributes[key];\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t}\n\n\tfunction init (converter) {\n\t\tfunction api (key, value, attributes) {\n\t\t\tvar result;\n\t\t\tif (typeof document === 'undefined') {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Write\n\n\t\t\tif (arguments.length > 1) {\n\t\t\t\tattributes = extend({\n\t\t\t\t\tpath: '/'\n\t\t\t\t}, api.defaults, attributes);\n\n\t\t\t\tif (typeof attributes.expires === 'number') {\n\t\t\t\t\tvar expires = new Date();\n\t\t\t\t\texpires.setMilliseconds(expires.getMilliseconds() + attributes.expires * 864e+5);\n\t\t\t\t\tattributes.expires = expires;\n\t\t\t\t}\n\n\t\t\t\t// We're using \"expires\" because \"max-age\" is not supported by IE\n\t\t\t\tattributes.expires = attributes.expires ? attributes.expires.toUTCString() : '';\n\n\t\t\t\ttry {\n\t\t\t\t\tresult = JSON.stringify(value);\n\t\t\t\t\tif (/^[\\{\\[]/.test(result)) {\n\t\t\t\t\t\tvalue = result;\n\t\t\t\t\t}\n\t\t\t\t} catch (e) {}\n\n\t\t\t\tif (!converter.write) {\n\t\t\t\t\tvalue = encodeURIComponent(String(value))\n\t\t\t\t\t\t.replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g, decodeURIComponent);\n\t\t\t\t} else {\n\t\t\t\t\tvalue = converter.write(value, key);\n\t\t\t\t}\n\n\t\t\t\tkey = encodeURIComponent(String(key));\n\t\t\t\tkey = key.replace(/%(23|24|26|2B|5E|60|7C)/g, decodeURIComponent);\n\t\t\t\tkey = key.replace(/[\\(\\)]/g, escape);\n\n\t\t\t\tvar stringifiedAttributes = '';\n\n\t\t\t\tfor (var attributeName in attributes) {\n\t\t\t\t\tif (!attributes[attributeName]) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tstringifiedAttributes += '; ' + attributeName;\n\t\t\t\t\tif (attributes[attributeName] === true) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tstringifiedAttributes += '=' + attributes[attributeName];\n\t\t\t\t}\n\t\t\t\treturn (document.cookie = key + '=' + value + stringifiedAttributes);\n\t\t\t}\n\n\t\t\t// Read\n\n\t\t\tif (!key) {\n\t\t\t\tresult = {};\n\t\t\t}\n\n\t\t\t// To prevent the for loop in the first place assign an empty array\n\t\t\t// in case there are no cookies at all. Also prevents odd result when\n\t\t\t// calling \"get()\"\n\t\t\tvar cookies = document.cookie ? document.cookie.split('; ') : [];\n\t\t\tvar rdecode = /(%[0-9A-Z]{2})+/g;\n\t\t\tvar i = 0;\n\n\t\t\tfor (; i < cookies.length; i++) {\n\t\t\t\tvar parts = cookies[i].split('=');\n\t\t\t\tvar cookie = parts.slice(1).join('=');\n\n\t\t\t\tif (!this.json && cookie.charAt(0) === '\"') {\n\t\t\t\t\tcookie = cookie.slice(1, -1);\n\t\t\t\t}\n\n\t\t\t\ttry {\n\t\t\t\t\tvar name = parts[0].replace(rdecode, decodeURIComponent);\n\t\t\t\t\tcookie = converter.read ?\n\t\t\t\t\t\tconverter.read(cookie, name) : converter(cookie, name) ||\n\t\t\t\t\t\tcookie.replace(rdecode, decodeURIComponent);\n\n\t\t\t\t\tif (this.json) {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tcookie = JSON.parse(cookie);\n\t\t\t\t\t\t} catch (e) {}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (key === name) {\n\t\t\t\t\t\tresult = cookie;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (!key) {\n\t\t\t\t\t\tresult[name] = cookie;\n\t\t\t\t\t}\n\t\t\t\t} catch (e) {}\n\t\t\t}\n\n\t\t\treturn result;\n\t\t}\n\n\t\tapi.set = api;\n\t\tapi.get = function (key) {\n\t\t\treturn api.call(api, key);\n\t\t};\n\t\tapi.getJSON = function () {\n\t\t\treturn api.apply({\n\t\t\t\tjson: true\n\t\t\t}, [].slice.call(arguments));\n\t\t};\n\t\tapi.defaults = {};\n\n\t\tapi.remove = function (key, attributes) {\n\t\t\tapi(key, '', extend(attributes, {\n\t\t\t\texpires: -1\n\t\t\t}));\n\t\t};\n\n\t\tapi.withConverter = init;\n\n\t\treturn api;\n\t}\n\n\treturn init(function () {});\n}));\n\n\n/***/ })\n\n},[25]);\n\n\n// WEBPACK FOOTER //\n// dist/build.js","/* \n * BlogSTEP \n * Copyright (c) 2016 Niels Sonnich Poulsen (http://nielssp.dk)\n * Licensed under the MIT license.\n * See the LICENSE file or http://opensource.org/licenses/MIT for more information.\n */\n\nexports.dirName = dirName;\nexports.fileName = fileName;\nexports.convert = convert;\n\nfunction dirName(path)\n{\n    var path = path.replace(/\\/[^\\/]+$/, '');\n    if (path === '') {\n        return '/';\n    }\n    return path;\n}\n\nfunction fileName(path)\n{\n    return path.replace(/^.*\\//, '');\n}\n\nfunction convert(path, cwd)\n{\n    path = path.trim();\n    if (!path.startsWith('/')) {\n        path = cwd + '/' + path;\n    }\n    var names = path.split('/');\n    var stack = [];\n    for (var i = 0; i < names.length; i++) {\n        if (names[i] === '..') {\n            if (stack.length >= 1) {\n                stack.pop();\n            }\n        } else if (names[i] !== '' && names[i] !== '.') {\n            stack.push(names[i]);\n        }\n    }\n    return '/' + stack.join('/');\n}\n\n\n// WEBPACK FOOTER //\n// ./common/paths.js","/*\n * BlogSTEP \n * Copyright (c) 2016 Niels Sonnich Poulsen (http://nielssp.dk)\n * Licensed under the MIT license.\n * See the LICENSE file or http://opensource.org/licenses/MIT for more information.\n */\n\nvar $ = require('jquery');\nvar paths = require('./common/paths');\nvar ui = require('./common/ui');\n\nvar self = null;\n\nvar progressBar = null;\nvar $statusHistory = null;\nvar preview = null;\n\nvar doCancel = false;\n\nfunction build(target) {\n    target = target.replace(/^build-/, '');\n    doCancel = false;\n    self.disableAction('build-all');\n    self.enableAction('cancel');\n    var start = performance.now();\n    ui.setProgress(progressBar, 0, 'Building...');\n    $statusHistory.val('');\n\n    var progress = 0;\n    var status = 'Building...';\n\n    var updateProgress = function (pct) {\n        progress = pct;\n        ui.setProgress(progressBar, progress, status);\n    };\n\n    var updateStatus = function (message, error) {\n        status = message;\n        ui.setProgress(progressBar, progress, status);\n        var t = (performance.now() - start) / 1000;\n        var line = t.toFixed(3) + ': ' + status;\n        $statusHistory.val(line + \"\\n\" + $statusHistory.val());\n    };\n\n\n    var post = function (url, success) {\n        var request = new XMLHttpRequest();\n        request.open('POST', url, true);\n        request.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded; charset=UTF-8');\n        request.setRequestHeader('X-Requested-With', 'XMLHttpRequest');\n        BLOGSTEP.addToken(request);\n\n        request.onreadystatechange = function () {\n            if (this.readyState === 3 || this.readyState === 4) {\n                if (this.status >= 200 && this.status < 400) {\n                    if (this.responseText)\n                        success(this.responseText, this.readyState, this.status);\n                }\n            }\n        };\n\n        request.send('target=' + target);\n    };\n\n    var done = false;\n    var repeat = function () {\n        if (doCancel) {\n            return;\n        }\n        var received = 0;\n        post(BLOGSTEP.PATH + '/api/build', function (text, state, status) {\n            var events = text.split(/[\\n\\r]/);\n            for (var i = received; i < events.length; i++) {\n                var matches = events[i].match(/^([a-zA-Z]+): *(.*)$/);\n                if (matches !== null) {\n                    received++;\n                    var type = matches[1];\n                    var data = matches[2];\n                    switch (type) {\n                        case 'done':\n                            updateProgress(100);\n                            done = true;\n                            self.enableAction('build-all');\n                            self.disableAction('cancel');\n                            preview.contentWindow.location.reload();\n                            return;\n                        case 'error':\n                            done = true;\n                            updateStatus(data, true);\n                            return;\n                        case 'status':\n                            updateStatus(data, false);\n                            break;\n                        case 'progress':\n                            updateProgress(data);\n                            break;\n                    }\n                }\n            }\n            if (!done && state === 4) {\n                if (received === 0)\n                    setTimeout(repeat, 2000);\n                else\n                    repeat();\n            }\n        });\n    };\n    repeat();\n}\n\nfunction cancel() {\n    doCancel = true;\n    BLOGSTEP.post('delete', {path: '/build/.build'}).always(function () {\n        self.enableAction('build-all');\n        self.disableAction('cancel');\n    });\n}\n\nfunction clean() {\n    doCancel = true;\n    BLOGSTEP.post('delete', {path: '/build', recursive: true});\n}\n\n\nBLOGSTEP.init('builder', function (app) {\n    self = app;\n\n    progressBar = app.frame.find('.build-progress')[0];\n    $statusHistory = app.frame.find('.build-status-history');\n    preview = app.frame.find('.build-preview')[0];\n    preview.src = BLOGSTEP.PATH + '/api/preview';\n\n    app.defineAction('build-all', build);\n    app.defineAction('build-content', build);\n    app.defineAction('build-template', build);\n    app.defineAction('build-assemble', build);\n    app.defineAction('build-install', build);\n    app.defineAction('cancel', cancel);\n    app.defineAction('clean', clean);\n\n    var menu = app.addMenu('Builder');\n    menu.addItem('Build', 'build-all');\n    menu.addItem('Preview', function () {\n        preview.src = BLOGSTEP.PATH + '/api/preview';\n    });\n    menu.addItem('Cancel', 'cancel');\n    menu.addItem('Clean', 'clean');\n    menu.addItem('Close', 'close');\n\n    app.onOpen = function (app, args) {\n        app.enableAction('build-all');\n        app.disableAction('cancel');\n    };\n});\n\n\n\n// WEBPACK FOOTER //\n// ./build.js","/*\n * BlogSTEP\n * Copyright (c) 2016 Niels Sonnich Poulsen (http://nielssp.dk)\n * Licensed under the MIT license.\n * See the LICENSE file or http://opensource.org/licenses/MIT for more information.\n */\n\nvar $ = require('jquery');\nvar Cookies = require('js-cookie');\n\n$.ajaxSetup({\n    headers: { 'X-Csrf-Token': Cookies.get('csrf_token') }\n});\n\nexports.shake = function (el, amount) {\n    amount = typeof amount === \"undefined\" ? 10 : amount;\n    var dbl = amount * 2;\n    return $(el).width($(el).width())\n            .animate({marginLeft: '+=' + amount}, 50)\n            .animate({marginLeft: '-=' + dbl}, 50)\n            .animate({marginLeft: '+=' + dbl}, 50)\n            .animate({marginLeft: '-=' + amount}, 50)\n            .queue(function () {\n                $(el).css('width', '')\n                        .css('margin-left', '')\n                        .finish();\n            });\n};\n\nexports.onLongPress = function(el, callback) {\n    var touching = false;\n    \n    var start = function (e) {\n        touching = true;\n    };\n    \n    var end = function (e) {\n        touching = false;\n    };\n    \n    el.addEventListener('touchstart', start);\n    el.addEventListener('touchend', end);\n    el.addEventListener('touchcancel', end);\n    el.addEventListener('touchmove', end);\n    el.addEventListener('contextmenu', function (e) {\n        if (touching) {\n            return callback(e);\n        }\n    });\n};\n\nexports.setProgress = function(el, progress, status) {\n    var bar = el.children[0];\n    var label = el.children[1];\n    progress = Math.floor(progress);\n    if (progress >= 100) {\n        el.className = 'progress success';\n    } else {\n        el.className = 'progress active';\n    }\n    bar.style.width = progress + '%';\n    bar.innerText = progress + '%';\n    if (typeof status !== 'undefined') {\n        label.innerText = status;\n    }\n};\n\nexports.handleLogin = function (done) {\n    var path = $('body').data('path').replace(/\\/$/, '');\n    $('#login').find('input').prop('disabled', false);\n    $('#login-frame').show();\n    $('#login').submit(function () {\n        $(this).find('input').prop('disabled', true);\n        $.ajax({\n            url: path,\n            method: 'post',\n            data: {\n                username: $('#login-username').val(),\n                password: $('#login-password').val(),\n                remember: $('#login-remember').is(':checked') ? { remember: 'remember' } : null\n            },\n            success: function () {\n                $('#login-frame').css({overflow: 'hidden', whiteSpace: 'no-wrap'}).animate({width: 0}, function () {\n                    $(this).hide().css({overflow: '', whiteSpace: '', width: ''});\n                    $('#login').off('submit');\n                    $('#login-password').val('');\n                    done();\n                });\n            },\n            error: function (xhr) {\n                $('#login').find('input').prop('disabled', false);\n                exports.shake($('#login-frame'));\n                $('#login-username').select();\n                $('#login-password').val('');\n            },\n            global: false\n        });\n        return false;\n    });\n};\n\nexports.handleError = function (event, xhr, settings, thrownError) {\n    var newToken = Cookies.get('csrf_token');\n    if (settings.headers['X-Csrf-Token'] !== newToken) {\n        $.ajaxSetup({\n            headers: { 'X-Csrf-Token': newToken }\n        });\n        settings.headers['X-Csrf-Token'] = newToken;\n        $.ajax(settings);\n        return;\n    }\n    if (xhr.status === 401) {\n        $('#login-overlay').show();\n        if ($('#login-username').val() === '') {\n            $('#login-username').focus();\n        } else {\n            $('#login-password').focus();\n        }\n        exports.handleLogin(function () {\n            $('#login-overlay').hide();\n            $.ajax(settings);\n        });\n        return;\n    } else if (typeof xhr.responseJSON !== 'undefined') {\n        alert(xhr.responseJSON.message);\n    } else {\n        alert(xhr.responseText);\n    }\n    exports.shake($('main > .frame.active'));\n    console.log(event, xhr, settings, thrownError);\n};\n\n\n\n// WEBPACK FOOTER //\n// ./common/ui.js","/*!\n * JavaScript Cookie v2.2.0\n * https://github.com/js-cookie/js-cookie\n *\n * Copyright 2006, 2015 Klaus Hartl & Fagner Brack\n * Released under the MIT license\n */\n;(function (factory) {\n\tvar registeredInModuleLoader = false;\n\tif (typeof define === 'function' && define.amd) {\n\t\tdefine(factory);\n\t\tregisteredInModuleLoader = true;\n\t}\n\tif (typeof exports === 'object') {\n\t\tmodule.exports = factory();\n\t\tregisteredInModuleLoader = true;\n\t}\n\tif (!registeredInModuleLoader) {\n\t\tvar OldCookies = window.Cookies;\n\t\tvar api = window.Cookies = factory();\n\t\tapi.noConflict = function () {\n\t\t\twindow.Cookies = OldCookies;\n\t\t\treturn api;\n\t\t};\n\t}\n}(function () {\n\tfunction extend () {\n\t\tvar i = 0;\n\t\tvar result = {};\n\t\tfor (; i < arguments.length; i++) {\n\t\t\tvar attributes = arguments[ i ];\n\t\t\tfor (var key in attributes) {\n\t\t\t\tresult[key] = attributes[key];\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t}\n\n\tfunction init (converter) {\n\t\tfunction api (key, value, attributes) {\n\t\t\tvar result;\n\t\t\tif (typeof document === 'undefined') {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Write\n\n\t\t\tif (arguments.length > 1) {\n\t\t\t\tattributes = extend({\n\t\t\t\t\tpath: '/'\n\t\t\t\t}, api.defaults, attributes);\n\n\t\t\t\tif (typeof attributes.expires === 'number') {\n\t\t\t\t\tvar expires = new Date();\n\t\t\t\t\texpires.setMilliseconds(expires.getMilliseconds() + attributes.expires * 864e+5);\n\t\t\t\t\tattributes.expires = expires;\n\t\t\t\t}\n\n\t\t\t\t// We're using \"expires\" because \"max-age\" is not supported by IE\n\t\t\t\tattributes.expires = attributes.expires ? attributes.expires.toUTCString() : '';\n\n\t\t\t\ttry {\n\t\t\t\t\tresult = JSON.stringify(value);\n\t\t\t\t\tif (/^[\\{\\[]/.test(result)) {\n\t\t\t\t\t\tvalue = result;\n\t\t\t\t\t}\n\t\t\t\t} catch (e) {}\n\n\t\t\t\tif (!converter.write) {\n\t\t\t\t\tvalue = encodeURIComponent(String(value))\n\t\t\t\t\t\t.replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g, decodeURIComponent);\n\t\t\t\t} else {\n\t\t\t\t\tvalue = converter.write(value, key);\n\t\t\t\t}\n\n\t\t\t\tkey = encodeURIComponent(String(key));\n\t\t\t\tkey = key.replace(/%(23|24|26|2B|5E|60|7C)/g, decodeURIComponent);\n\t\t\t\tkey = key.replace(/[\\(\\)]/g, escape);\n\n\t\t\t\tvar stringifiedAttributes = '';\n\n\t\t\t\tfor (var attributeName in attributes) {\n\t\t\t\t\tif (!attributes[attributeName]) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tstringifiedAttributes += '; ' + attributeName;\n\t\t\t\t\tif (attributes[attributeName] === true) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tstringifiedAttributes += '=' + attributes[attributeName];\n\t\t\t\t}\n\t\t\t\treturn (document.cookie = key + '=' + value + stringifiedAttributes);\n\t\t\t}\n\n\t\t\t// Read\n\n\t\t\tif (!key) {\n\t\t\t\tresult = {};\n\t\t\t}\n\n\t\t\t// To prevent the for loop in the first place assign an empty array\n\t\t\t// in case there are no cookies at all. Also prevents odd result when\n\t\t\t// calling \"get()\"\n\t\t\tvar cookies = document.cookie ? document.cookie.split('; ') : [];\n\t\t\tvar rdecode = /(%[0-9A-Z]{2})+/g;\n\t\t\tvar i = 0;\n\n\t\t\tfor (; i < cookies.length; i++) {\n\t\t\t\tvar parts = cookies[i].split('=');\n\t\t\t\tvar cookie = parts.slice(1).join('=');\n\n\t\t\t\tif (!this.json && cookie.charAt(0) === '\"') {\n\t\t\t\t\tcookie = cookie.slice(1, -1);\n\t\t\t\t}\n\n\t\t\t\ttry {\n\t\t\t\t\tvar name = parts[0].replace(rdecode, decodeURIComponent);\n\t\t\t\t\tcookie = converter.read ?\n\t\t\t\t\t\tconverter.read(cookie, name) : converter(cookie, name) ||\n\t\t\t\t\t\tcookie.replace(rdecode, decodeURIComponent);\n\n\t\t\t\t\tif (this.json) {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tcookie = JSON.parse(cookie);\n\t\t\t\t\t\t} catch (e) {}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (key === name) {\n\t\t\t\t\t\tresult = cookie;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (!key) {\n\t\t\t\t\t\tresult[name] = cookie;\n\t\t\t\t\t}\n\t\t\t\t} catch (e) {}\n\t\t\t}\n\n\t\t\treturn result;\n\t\t}\n\n\t\tapi.set = api;\n\t\tapi.get = function (key) {\n\t\t\treturn api.call(api, key);\n\t\t};\n\t\tapi.getJSON = function () {\n\t\t\treturn api.apply({\n\t\t\t\tjson: true\n\t\t\t}, [].slice.call(arguments));\n\t\t};\n\t\tapi.defaults = {};\n\n\t\tapi.remove = function (key, attributes) {\n\t\t\tapi(key, '', extend(attributes, {\n\t\t\t\texpires: -1\n\t\t\t}));\n\t\t};\n\n\t\tapi.withConverter = init;\n\n\t\treturn api;\n\t}\n\n\treturn init(function () {});\n}));\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// /home/www/blogstep/~/js-cookie/src/js.cookie.js\n// module id = 4\n// module chunks = 0 1 2 3 5 6"],"sourceRoot":""}
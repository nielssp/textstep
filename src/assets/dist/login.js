webpackJsonp([8],{2:function(e,n,o){var r=o(0),t=o(4);r.ajaxSetup({headers:{"X-Csrf-Token":t.get("csrf_token")}}),n.shake=function(e,n){n=void 0===n?10:n;var o=2*n;return r(e).width(r(e).width()).animate({marginLeft:"+="+n},50).animate({marginLeft:"-="+o},50).animate({marginLeft:"+="+o},50).animate({marginLeft:"-="+n},50).queue(function(){r(e).css("width","").css("margin-left","").finish()})},n.onLongPress=function(e,n){var o=!1,r=function(e){o=!0},t=function(e){o=!1};e.addEventListener("touchstart",r),e.addEventListener("touchend",t),e.addEventListener("touchcancel",t),e.addEventListener("touchmove",t),e.addEventListener("contextmenu",function(e){if(o)return n(e)})},n.setProgress=function(e,n,o){var r=e.children[0],t=e.children[1];n=Math.floor(n),e.className=n>=100?"progress success":"progress active",r.style.width=n+"%",r.innerText=n+"%",void 0!==o&&(t.innerText=o)},n.handleLogin=function(e){var o=r("body").data("path").replace(/\/$/,"");r("#login").find("input").prop("disabled",!1),r("#login-frame").show(),r("#login").submit(function(){return r(this).find("input").prop("disabled",!0),r.ajax({url:o,method:"post",data:{username:r("#login-username").val(),password:r("#login-password").val(),remember:r("#login-remember").is(":checked")?{remember:"remember"}:null},success:function(){r("#login-frame").css({overflow:"hidden",whiteSpace:"no-wrap"}).animate({width:0},function(){r(this).hide().css({overflow:"",whiteSpace:"",width:""}),r("#login").off("submit"),r("#login-password").val(""),e()})},error:function(e){r("#login").find("input").prop("disabled",!1),n.shake(r("#login-frame")),r("#login-username").select(),r("#login-password").val("")},global:!1}),!1})},n.handleError=function(e,o,i,a){var s=t.get("csrf_token");return i.headers["X-Csrf-Token"]!==s?(r.ajaxSetup({headers:{"X-Csrf-Token":s}}),i.headers["X-Csrf-Token"]=s,void r.ajax(i)):401===o.status?(r("#login-overlay").show(),""===r("#login-username").val()?r("#login-username").focus():r("#login-password").focus(),void n.handleLogin(function(){r("#login-overlay").hide(),r.ajax(i)})):(void 0!==o.responseJSON?alert(o.responseJSON.message):alert(o.responseText),n.shake(r("main > .frame")),void console.log(e,o,i,a))}},4:function(e,n,o){var r,t;!function(i){var a=!1;if(r=i,void 0!==(t="function"==typeof r?r.call(n,o,n,e):r)&&(e.exports=t),a=!0,e.exports=i(),a=!0,!a){var s=window.Cookies,c=window.Cookies=i();c.noConflict=function(){return window.Cookies=s,c}}}(function(){function e(){for(var e=0,n={};e<arguments.length;e++){var o=arguments[e];for(var r in o)n[r]=o[r]}return n}function n(o){function r(n,t,i){var a;if("undefined"!=typeof document){if(arguments.length>1){if(i=e({path:"/"},r.defaults,i),"number"==typeof i.expires){var s=new Date;s.setMilliseconds(s.getMilliseconds()+864e5*i.expires),i.expires=s}i.expires=i.expires?i.expires.toUTCString():"";try{a=JSON.stringify(t),/^[\{\[]/.test(a)&&(t=a)}catch(e){}t=o.write?o.write(t,n):encodeURIComponent(String(t)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),n=encodeURIComponent(String(n)),n=n.replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent),n=n.replace(/[\(\)]/g,escape);var c="";for(var d in i)i[d]&&(c+="; "+d,!0!==i[d]&&(c+="="+i[d]));return document.cookie=n+"="+t+c}n||(a={});for(var l=document.cookie?document.cookie.split("; "):[],u=/(%[0-9A-Z]{2})+/g,f=0;f<l.length;f++){var p=l[f].split("="),g=p.slice(1).join("=");this.json||'"'!==g.charAt(0)||(g=g.slice(1,-1));try{var h=p[0].replace(u,decodeURIComponent);if(g=o.read?o.read(g,h):o(g,h)||g.replace(u,decodeURIComponent),this.json)try{g=JSON.parse(g)}catch(e){}if(n===h){a=g;break}n||(a[h]=g)}catch(e){}}return a}}return r.set=r,r.get=function(e){return r.call(r,e)},r.getJSON=function(){return r.apply({json:!0},[].slice.call(arguments))},r.defaults={},r.remove=function(n,o){r(n,"",e(o,{expires:-1}))},r.withConverter=n,r}return n(function(){})})},55:function(e,n,o){var r=o(0),t=o(2);r("#login #username").focus(),t.handleLogin(function(){location.reload()})}},[55]);
//# sourceMappingURL=login.js.map
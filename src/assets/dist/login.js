webpackJsonp([8],{2:function(e,n,o){var t=o(0),r=o(4);t.ajaxSetup({headers:{"X-Csrf-Token":r.get("csrf_token")}}),n.shake=function(e,n){n=void 0===n?10:n;var o=2*n;return t(e).width(t(e).width()).animate({marginLeft:"+="+n},50).animate({marginLeft:"-="+o},50).animate({marginLeft:"+="+o},50).animate({marginLeft:"-="+n},50).queue(function(){t(e).css("width","").css("margin-left","").finish()})},n.onLongPress=function(e,n){var o=!1,t=function(e){o=!0},r=function(e){o=!1};e.addEventListener("touchstart",t),e.addEventListener("touchend",r),e.addEventListener("touchcancel",r),e.addEventListener("touchmove",r),e.addEventListener("contextmenu",function(e){if(o)return n(e)})},n.setProgress=function(e,n,o){var t=e.children[0],r=e.children[1];n=Math.floor(n),e.className=n>=100?"progress success":"progress active",t.style.width=n+"%",t.innerText=n+"%",void 0!==o&&(r.innerText=o)},n.handleLogin=function(e){var o=t("body").data("path").replace(/\/$/,"");t("#login").find("input").prop("disabled",!1),t(".login-frame").show(),t("#login").submit(function(){var r=t(this).find('[name="request_token"]').val();return t(this).find("input").prop("disabled",!0),t.ajax({url:o,method:"post",data:{request_token:r,username:t("#username").val(),password:t("#password").val(),remember:t("#remember_remember").is(":checked")?{remember:"remember"}:null},success:function(){t(".login-frame").css({overflow:"hidden",whiteSpace:"no-wrap"}).animate({width:0},function(){t(this).hide().css({overflow:"",whiteSpace:"",width:""}),t("#login").off("submit"),t("#password").val(""),e()})},error:function(e){t("#login").find("input").prop("disabled",!1),n.shake(t(".login-frame")),t("#username").select(),t("#password").val("")},global:!1}),!1})},n.handleError=function(e,o,i,a){var s=r.get("csrf_token");return i.headers["X-Csrf-Token"]!==s?(t.ajaxSetup({headers:{"X-Csrf-Token":s}}),i.headers["X-Csrf-Token"]=s,void t.ajax(i)):401===o.status?(t("#login-overlay").show(),t("#password").focus(),void n.handleLogin(function(){t("#login-overlay").hide(),t.ajax(i)})):(void 0!==o.responseJSON?alert(o.responseJSON.message):alert(o.responseText),n.shake(t("main > .frame")),void console.log(e,o,i,a))}},4:function(e,n,o){var t,r;!function(i){var a=!1;if(t=i,void 0!==(r="function"==typeof t?t.call(n,o,n,e):t)&&(e.exports=r),a=!0,e.exports=i(),a=!0,!a){var s=window.Cookies,c=window.Cookies=i();c.noConflict=function(){return window.Cookies=s,c}}}(function(){function e(){for(var e=0,n={};e<arguments.length;e++){var o=arguments[e];for(var t in o)n[t]=o[t]}return n}function n(o){function t(n,r,i){var a;if("undefined"!=typeof document){if(arguments.length>1){if(i=e({path:"/"},t.defaults,i),"number"==typeof i.expires){var s=new Date;s.setMilliseconds(s.getMilliseconds()+864e5*i.expires),i.expires=s}i.expires=i.expires?i.expires.toUTCString():"";try{a=JSON.stringify(r),/^[\{\[]/.test(a)&&(r=a)}catch(e){}r=o.write?o.write(r,n):encodeURIComponent(String(r)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),n=encodeURIComponent(String(n)),n=n.replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent),n=n.replace(/[\(\)]/g,escape);var c="";for(var d in i)i[d]&&(c+="; "+d,!0!==i[d]&&(c+="="+i[d]));return document.cookie=n+"="+r+c}n||(a={});for(var u=document.cookie?document.cookie.split("; "):[],f=/(%[0-9A-Z]{2})+/g,l=0;l<u.length;l++){var p=u[l].split("="),h=p.slice(1).join("=");this.json||'"'!==h.charAt(0)||(h=h.slice(1,-1));try{var m=p[0].replace(f,decodeURIComponent);if(h=o.read?o.read(h,m):o(h,m)||h.replace(f,decodeURIComponent),this.json)try{h=JSON.parse(h)}catch(e){}if(n===m){a=h;break}n||(a[m]=h)}catch(e){}}return a}}return t.set=t,t.get=function(e){return t.call(t,e)},t.getJSON=function(){return t.apply({json:!0},[].slice.call(arguments))},t.defaults={},t.remove=function(n,o){t(n,"",e(o,{expires:-1}))},t.withConverter=n,t}return n(function(){})})},55:function(e,n,o){var t=o(0),r=o(2);t("#login #username").focus(),r.handleLogin(function(){location.reload()})}},[55]);
//# sourceMappingURL=login.js.map
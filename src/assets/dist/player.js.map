{"version":3,"sources":["webpack:///dist/player.js","webpack:///./common/paths.js?9de7*****","webpack:///./player.js"],"names":["webpackJsonp","2","module","exports","__webpack_require__","dirName","path","replace","fileName","convert","cwd","trim","startsWith","names","split","stack","i","length","pop","push","join","30","$","BLOGSTEP","init","app","$videoContainer","frame","find","$video","paused","addMenu","addItem","onOpen","args","setTitle","attr","PATH","append","onSuspend","pause","onResume","play","onClose","remove"],"mappings":"AAAAA,cAAc,IAERC,EACA,SAAUC,EAAQC,EAASC,GAEjC,YCMA,SAASC,GAAQC,GAEb,GAAIA,GAAOA,EAAKC,QAAQ,YAAa,GACrC,OAAa,KAATD,EACO,IAEJA,EAGX,QAASE,GAASF,GAEd,MAAOA,GAAKC,QAAQ,QAAS,IAGjC,QAASE,GAAQH,EAAMI,GAEnBJ,EAAOA,EAAKK,OACPL,EAAKM,WAAW,OACjBN,EAAOI,EAAM,IAAMJ,EAIvB,KAAK,GAFDO,GAAQP,EAAKQ,MAAM,KACnBC,KACKC,EAAI,EAAGA,EAAIH,EAAMI,OAAQD,IACb,OAAbH,EAAMG,GACFD,EAAME,QAAU,GAChBF,EAAMG,MAEU,KAAbL,EAAMG,IAA0B,MAAbH,EAAMG,IAChCD,EAAMI,KAAKN,EAAMG,GAGzB,OAAO,IAAMD,EAAMK,KAAK,KAnC5BjB,EAAQE,QAAUA,EAClBF,EAAQK,SAAWA,EACnBL,EAAQM,QAAUA,GD2CZY,GACA,SAAUnB,EAAQC,EAASC,GAEjC,YE/CA,IAAIkB,GAAIlB,EAAQ,EACJA,GAAQ,EAEpBmB,UAASC,KAAK,SAAU,SAAUC,GAC9B,GAAIC,GAAkBD,EAAIE,MAAMC,KAAK,WACjCC,EAAS,KACTC,GAAS,CAEFL,GAAIM,QAAQ,UAClBC,QAAQ,QAAS,SAEtBP,EAAIQ,OAAS,SAAUR,EAAKS,GACxBT,EAAIU,SAASD,EAAK5B,KAAO,aAEzBuB,EAASP,EAAE,mCACXO,EAAOO,KAAK,MAAOb,SAASc,KAAO,sBAAwBH,EAAK5B,MAChEoB,EAAgBY,OAAOT,IAG3BJ,EAAIc,UAAY,SAAUd,GACtBK,EAASD,EAAO,GAAGC,OACnBD,EAAO,GAAGW,SAGdf,EAAIgB,SAAW,SAAUhB,GAChBK,GACDD,EAAO,GAAGa,QAIlBjB,EAAIkB,QAAU,SAAUlB,GACpBI,EAAOe,eF+DZ","file":"dist/player.js","sourcesContent":["webpackJsonp([7],{\n\n/***/ 2:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n/* \n * BlogSTEP \n * Copyright (c) 2016 Niels Sonnich Poulsen (http://nielssp.dk)\n * Licensed under the MIT license.\n * See the LICENSE file or http://opensource.org/licenses/MIT for more information.\n */\n\nexports.dirName = dirName;\nexports.fileName = fileName;\nexports.convert = convert;\n\nfunction dirName(path) {\n    var path = path.replace(/\\/[^\\/]+$/, '');\n    if (path === '') {\n        return '/';\n    }\n    return path;\n}\n\nfunction fileName(path) {\n    return path.replace(/^.*\\//, '');\n}\n\nfunction convert(path, cwd) {\n    path = path.trim();\n    if (!path.startsWith('/')) {\n        path = cwd + '/' + path;\n    }\n    var names = path.split('/');\n    var stack = [];\n    for (var i = 0; i < names.length; i++) {\n        if (names[i] === '..') {\n            if (stack.length >= 1) {\n                stack.pop();\n            }\n        } else if (names[i] !== '' && names[i] !== '.') {\n            stack.push(names[i]);\n        }\n    }\n    return '/' + stack.join('/');\n}\n\n/***/ }),\n\n/***/ 30:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n/* \n * BlogSTEP\n * Copyright (c) 2017 Niels Sonnich Poulsen (http://nielssp.dk)\n * Licensed under the MIT license.\n * See the LICENSE file or http://opensource.org/licenses/MIT for more information.\n */\n\nvar $ = __webpack_require__(0);\nvar paths = __webpack_require__(2);\n\nBLOGSTEP.init('player', function (app) {\n    var $videoContainer = app.frame.find('#player');\n    var $video = null;\n    var paused = false;\n\n    var menu = app.addMenu('Player');\n    menu.addItem('Close', 'close');\n\n    app.onOpen = function (app, args) {\n        app.setTitle(args.path + ' – Player');\n\n        $video = $(\"<video autoplay controls loop/>\");\n        $video.attr('src', BLOGSTEP.PATH + '/api/download?path=' + args.path);\n        $videoContainer.append($video);\n    };\n\n    app.onSuspend = function (app) {\n        paused = $video[0].paused;\n        $video[0].pause();\n    };\n\n    app.onResume = function (app) {\n        if (!paused) {\n            $video[0].play();\n        }\n    };\n\n    app.onClose = function (app) {\n        $video.remove();\n    };\n});\n\n/***/ })\n\n},[30]);\n\n\n// WEBPACK FOOTER //\n// dist/player.js","/* \n * BlogSTEP \n * Copyright (c) 2016 Niels Sonnich Poulsen (http://nielssp.dk)\n * Licensed under the MIT license.\n * See the LICENSE file or http://opensource.org/licenses/MIT for more information.\n */\n\nexports.dirName = dirName;\nexports.fileName = fileName;\nexports.convert = convert;\n\nfunction dirName(path)\n{\n    var path = path.replace(/\\/[^\\/]+$/, '');\n    if (path === '') {\n        return '/';\n    }\n    return path;\n}\n\nfunction fileName(path)\n{\n    return path.replace(/^.*\\//, '');\n}\n\nfunction convert(path, cwd)\n{\n    path = path.trim();\n    if (!path.startsWith('/')) {\n        path = cwd + '/' + path;\n    }\n    var names = path.split('/');\n    var stack = [];\n    for (var i = 0; i < names.length; i++) {\n        if (names[i] === '..') {\n            if (stack.length >= 1) {\n                stack.pop();\n            }\n        } else if (names[i] !== '' && names[i] !== '.') {\n            stack.push(names[i]);\n        }\n    }\n    return '/' + stack.join('/');\n}\n\n\n// WEBPACK FOOTER //\n// ./common/paths.js","/* \n * BlogSTEP\n * Copyright (c) 2017 Niels Sonnich Poulsen (http://nielssp.dk)\n * Licensed under the MIT license.\n * See the LICENSE file or http://opensource.org/licenses/MIT for more information.\n */\n\n\nvar $ = require('jquery');\nvar paths = require('./common/paths');\n\nBLOGSTEP.init('player', function (app) {\n    var $videoContainer = app.frame.find('#player');\n    var $video = null;\n    var paused = false;\n\n    var menu = app.addMenu('Player');\n    menu.addItem('Close', 'close');    \n\n    app.onOpen = function (app, args) {\n        app.setTitle(args.path + ' – Player');\n        \n        $video = $(\"<video autoplay controls loop/>\");\n        $video.attr('src', BLOGSTEP.PATH + '/api/download?path=' + args.path);\n        $videoContainer.append($video);\n    };\n    \n    app.onSuspend = function (app) {\n        paused = $video[0].paused;\n        $video[0].pause();\n    };\n    \n    app.onResume = function (app) {\n        if (!paused) {\n            $video[0].play();\n        }\n    };\n    \n    app.onClose = function (app) {\n        $video.remove();\n    };\n});\n\n\n\n// WEBPACK FOOTER //\n// ./player.js"],"sourceRoot":""}
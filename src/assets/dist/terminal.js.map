{"version":3,"sources":["webpack:///dist/terminal.js","webpack:///./common/actions.js?e0fb****","webpack:///./common/ui.js?8332****","webpack:///./terminal.js","webpack:////home/www/blogstep/~/js-cookie/src/js.cookie.js?cd36****"],"names":["webpackJsonp","1","module","exports","__webpack_require__","bind","key","action","parts","toLowerCase","split","e","ctrlKey","altKey","shiftKey","length","i","keyMap","defineAction","name","callback","groups","actions","$","click","preventDefault","stopPropagation","forEach","group","actionGroups","hasOwnProperty","push","activate","enableGroup","enable","disableGroup","disable","attr","define","window","keydown","defaultPrevented","metaKey","2","Cookies","ajaxSetup","headers","X-Csrf-Token","get","shake","el","amount","dbl","width","animate","marginLeft","queue","css","finish","onLongPress","touching","start","end","addEventListener","setProgress","progress","status","bar","children","label","Math","floor","className","style","innerText","handleLogin","done","path","data","replace","find","prop","show","submit","token","this","val","ajax","url","method","request_token","username","password","remember","is","success","overflow","whiteSpace","hide","off","error","xhr","select","global","handleError","event","settings","thrownError","newToken","focus","responseJSON","alert","message","responseText","console","log","55","convertPath","trim","startsWith","user","home","substr","cwd","names","stack","pop","join","flush","$terminal","buffer","scrollTop","scrollHeight","write","content","writeLine","readLine","readCallback","exec","command","TOKEN","PATH","ui","code","statusText","complete","prompt","cmdHistoryPos","line","m","match","commands","JSON","parse","stringify","cmdHistory","months","location","href","clear","args","cd","nwd","type","pwd","ls","files","file","modeString","owner","date","Date","modified","getFullYear","getMonth","getDate","touch","mkdir","rm","cp","destination","mv","cat","exit","open","edit","cedit","selectionStart","selectionEnd","blur","60","__WEBPACK_AMD_DEFINE_FACTORY__","__WEBPACK_AMD_DEFINE_RESULT__","factory","registeredInModuleLoader","call","undefined","OldCookies","api","noConflict","extend","result","arguments","attributes","init","converter","value","document","defaults","expires","setMilliseconds","getMilliseconds","toUTCString","test","encodeURIComponent","String","decodeURIComponent","escape","stringifiedAttributes","attributeName","cookie","cookies","rdecode","slice","json","charAt","read","set","getJSON","apply","remove","withConverter"],"mappings":"AAAAA,cAAc,IAERC,EACA,SAASC,EAAQC,EAASC,GC4ChC,QAAAC,GAAAC,EAAAC,GAKA,OAHAC,GAAAF,EAAAG,cAAAC,MAAA,QACAC,GAAaC,QAAA,GAAAC,OAAA,GAAAC,SAAA,IACbR,EAAAE,IAAAO,OAAA,GACAC,EAAA,EAAmBA,EAAAR,EAAAO,OAAA,EAAsBC,IACzC,OAAAR,EAAAQ,IACA,QACAL,EAAAC,QAAA,IACA,MACA,SACAD,EAAAE,OAAA,IACA,MACA,SACAF,EAAAG,SAAA,KAIAR,EAAAK,EAAAC,QAAAD,EAAAE,OAAAF,EAAAG,SAAAR,EACAW,EAAAX,GAAAC,EAGA,QAAAW,GAAAC,EAAAC,EAAAC,GAEAC,EAAAH,GAAAC,EACAG,EAAA,iBAAAJ,EAAA,MAAAK,MAAA,SAAAb,GAIA,MAHAA,GAAAc,iBACAd,EAAAe,kBACAN,KACA,IAEA,mBAAAC,IACAA,EAAAM,QAAA,SAAAC,GACAC,EAAAC,eAAAF,KACAC,EAAAD,OAEAC,EAAAD,GAAAG,KAAAZ,KAKA,QAAAa,GAAAb,GAEAG,EAAAH,KAGA,QAAAc,GAAAL,GAEAC,EAAAC,eAAAF,IACAC,EAAAD,GAAAD,QAAA,SAAAR,GACAe,EAAAf,KAKA,QAAAgB,GAAAP,GAEAC,EAAAC,eAAAF,IACAC,EAAAD,GAAAD,QAAA,SAAAR,GACAiB,EAAAjB,KAKA,QAAAe,GAAAf,GAEA,gBAAAA,GACAI,EAAA,iBAAAJ,EAAA,MAAAkB,KAAA,eAEAlB,EAAAQ,QAAAO,GAIA,QAAAE,GAAAjB,GAEA,gBAAAA,GACAI,EAAA,iBAAAJ,EAAA,MAAAkB,KAAA,eAEAlB,EAAAQ,QAAAS,GAtHA,GAAAb,GAAAnB,EAAA,EAEAD,GAAAmC,OAAApB,EACAf,EAAA+B,SACA/B,EAAAiC,UACAjC,EAAA8B,cACA9B,EAAAgC,eACAhC,EAAA6B,WACA7B,EAAAE,MAEA,IAAAiB,MAEAO,KAEAZ,IAEAM,GAAAgB,QAAAC,QAAA,SAAA7B,GACA,IAAAA,EAAA8B,iBAAA,CAGA,GAAAnC,GAAA,EAcA,OAbAK,GAAAC,UACAN,GAAA,MAEAK,EAAAE,SACAP,GAAA,MAEAK,EAAAG,WACAR,GAAA,MAEAK,EAAA+B,UACApC,GAAA,MAEAA,GAAAK,EAAAL,IAAAG,cACAQ,EAAAa,eAAAxB,IACA0B,EAAAf,EAAAX,KACA,GAFA,WD+FMqC,EACA,SAASzC,EAAQC,EAASC,GElIhC,GAAAmB,GAAAnB,EAAA,GACAwC,EAAAxC,EAAA,GAEAmB,GAAAsB,WACAC,SAAcC,eAAAH,EAAAI,IAAA,iBAGd7C,EAAA8C,MAAA,SAAAC,EAAAC,GACAA,EAAA,mBAAAA,GAAA,GAAAA,CACA,IAAAC,GAAA,EAAAD,CACA,OAAA5B,GAAA2B,GAAAG,MAAA9B,EAAA2B,GAAAG,SACAC,SAAsBC,WAAA,KAAAJ,GAA0B,IAChDG,SAAsBC,WAAA,KAAAH,GAAuB,IAC7CE,SAAsBC,WAAA,KAAAH,GAAuB,IAC7CE,SAAsBC,WAAA,KAAAJ,GAA0B,IAChDK,MAAA,WACAjC,EAAA2B,GAAAO,IAAA,YACAA,IAAA,kBACAC,YAIAvD,EAAAwD,YAAA,SAAAT,EAAA9B,GACA,GAAAwC,IAAA,EAEAC,EAAA,SAAAlD,GACAiD,GAAA,GAGAE,EAAA,SAAAnD,GACAiD,GAAA,EAGAV,GAAAa,iBAAA,aAAAF,GACAX,EAAAa,iBAAA,WAAAD,GACAZ,EAAAa,iBAAA,cAAAD,GACAZ,EAAAa,iBAAA,YAAAD,GACAZ,EAAAa,iBAAA,uBAAApD,GACA,GAAAiD,EACA,MAAAxC,GAAAT,MAKAR,EAAA6D,YAAA,SAAAd,EAAAe,EAAAC,GACA,GAAAC,GAAAjB,EAAAkB,SAAA,GACAC,EAAAnB,EAAAkB,SAAA,EACAH,GAAAK,KAAAC,MAAAN,GACAA,GAAA,IACAf,EAAAsB,UAAA,mBAEAtB,EAAAsB,UAAA,kBAEAL,EAAAM,MAAApB,MAAAY,EAAA,IACAE,EAAAO,UAAAT,EAAA,IACA,mBAAAC,KACAG,EAAAK,UAAAR,IAIA/D,EAAAwE,YAAA,SAAAC,GACA,GAAAC,GAAAtD,EAAA,QAAAuD,KAAA,QAAAC,QAAA,SACAxD,GAAA,UAAAyD,KAAA,SAAAC,KAAA,eACA1D,EAAA,gBAAA2D,OACA3D,EAAA,UAAA4D,OAAA,WACA,GAAAC,GAAA7D,EAAA8D,MAAAL,KAAA,0BAAAM,KA2BA,OA1BA/D,GAAA8D,MAAAL,KAAA,SAAAC,KAAA,eACA1D,EAAAgE,MACAC,IAAAX,EACAY,OAAA,OACAX,MACAY,cAAAN,EACAO,SAAApE,EAAA,aAAA+D,MACAM,SAAArE,EAAA,aAAA+D,MACAO,SAAAtE,EAAA,sBAAAuE,GAAA,aAAoED,SAAA,YAAuB,MAE3FE,QAAA,WACAxE,EAAA,gBAAAkC,KAAuCuC,SAAA,SAAAC,WAAA,YAA0C3C,SAAWD,MAAA,GAAS,WACrG9B,EAAA8D,MAAAa,OAAAzC,KAAwCuC,SAAA,GAAAC,WAAA,GAAA5C,MAAA,KACxC9B,EAAA,UAAA4E,IAAA,UACA5E,EAAA,aAAA+D,IAAA,IACAV,OAGAwB,MAAA,SAAAC,GACA9E,EAAA,UAAAyD,KAAA,SAAAC,KAAA,eACA9E,EAAA8C,MAAA1B,EAAA,iBACAA,EAAA,aAAA+E,SACA/E,EAAA,aAAA+D,IAAA,KAEAiB,QAAA,KAEA,KAIApG,EAAAqG,YAAA,SAAAC,EAAAJ,EAAAK,EAAAC,GACA,GAAAC,GAAAhE,EAAAI,IAAA,aACA,OAAA0D,GAAA5D,QAAA,kBAAA8D,GACArF,EAAAsB,WACAC,SAAsBC,eAAA6D,KAEtBF,EAAA5D,QAAA,gBAAA8D,MACArF,GAAAgE,KAAAmB,IAGA,MAAAL,EAAAnC,QACA3C,EAAA,kBAAA2D,OACA3D,EAAA,aAAAsF,YACA1G,GAAAwE,YAAA,WACApD,EAAA,kBAAA2E,OACA3E,EAAAgE,KAAAmB,OAGK,mBAAAL,GAAAS,aACLC,MAAAV,EAAAS,aAAAE,SAEAD,MAAAV,EAAAY,cAEA9G,EAAA8C,MAAA1B,EAAA,sBACA2F,SAAAC,IAAAV,EAAAJ,EAAAK,EAAAC,MFiJMS,GACA,SAASlH,EAAQC,EAASC,GGhPhC,QAAAiH,GAAAxC,GAEAA,IAAAyC,OACAzC,EAAA0C,WAAA,KACA1C,EAAA2C,EAAAC,KAAA5C,EAAA6C,OAAA,GACK7C,EAAA0C,WAAA,OACL1C,EAAA8C,EAAA,IAAA9C,EAIA,QAFA+C,GAAA/C,EAAAnE,MAAA,KACAmH,KACA7G,EAAA,EAAmBA,EAAA4G,EAAA7G,OAAkBC,IACrC,OAAA4G,EAAA5G,GACA6G,EAAA9G,QAAA,GACA8G,EAAAC,MAES,KAAAF,EAAA5G,IAAA,MAAA4G,EAAA5G,IACT6G,EAAA9F,KAAA6F,EAAA5G,GAGA,WAAA6G,EAAAE,KAAA,KAoFA,QAAAC,KAEAC,EAAA3C,IAAA4C,GACAD,EAAA,GAAAE,UAAAF,EAAA,GAAAG,aAIA,QAAAC,GAAAC,GAEAJ,GAAAI,EACAN,IAGA,QAAAO,GAAAD,GAEAD,EAAAC,EAAA,MAGA,QAAAE,GAAApH,GAEA6G,EAAA5F,KAAA,eAAAwE,QACA4B,EAAArH,EAGA,QAAAsH,GAAAC,EAAA7D,EAAAiB,GAEAjB,EAAA,cAAA8D,EACArH,EAAAgE,MACAC,IAAAqD,EAAA,QAAAF,EACAlD,OAAA,OACAX,OACAiB,UACAK,MAAA,SAAAC,GACAyC,EAAA7F,MAAA1B,EAAA,WAEAgH,EADA,MAAAlC,EAAAnC,OACAmC,EAAAnC,OAAA,IAAAyE,EAAA,sBACa,mBAAAtC,GAAAS,aACbT,EAAAnC,OAAA,IAAAmC,EAAAS,aAAAiC,KAAA,KAAA1C,EAAAS,aAAAE,QAEAX,EAAAnC,OAAA,IAAAmC,EAAA2C,WAAA,KAAA3C,EAAAY,eAGAgC,SAAAC,IAIA,QAAAA,KAEAb,EAAAb,EAAA7B,SAAA,IAAAgC,EAAA,MACAwB,KACAX,EAAA,SAAAY,GACA,GAAAC,GAAAD,EAAA9B,OAAAgC,MAAA,qBACA,WAAAD,EACAd,EAAA,mBACAW,QACS,CACT,GAAAP,GAAAU,EAAA,EACA,IAAAE,EAAAzH,eAAA6G,GACAY,EAAAZ,GAAA,mBAAAU,GAAA,MAAAA,EAAA,QAEA,KACA,GAAAvE,GAAA,mBAAAuE,GAAA,MAAiEG,KAAAC,MAAAJ,EAAA,GACjEX,GAAAC,EAAA7D,EAAA,SAAAA,GACAyD,EAAAiB,KAAAE,UAAA5E,EAAA,cAEiB,MAAAnE,GACjB4H,EAAA5H,GACAuI,QApMA,GAAA3H,GAAAnB,EAAA,GACAkB,EAAAlB,EAAA,GACA0I,EAAA1I,EAAA,GAEA6H,EAAA1G,EAAA,aAEA2G,EAAA,GACAyB,KACAR,KACAV,EAAA,KAEAjB,KACAG,EAAAM,EAAAnD,KAAA,QAEA+D,EAAAtH,EAAA,QAAAuD,KAAA,QAAAC,QAAA,UACA6D,EAAAX,EAAAnD,KAAA,SAEA8E,GACA,oCACA,oCAGAtI,GAAAgB,OAAA,mBACAuH,SAAAC,KAAAjB,EAAA,eAAAlB,GAyBA,IAAA4B,IACAQ,MAAA,SAAAC,GACA9B,EAAA,GACAF,IACAkB,KAEAe,GAAA,SAAAD,GACA,GAAAE,GAAA7C,EAAA2C,EACAtB,GAAA,mBAAAwB,KAAyC,SAAApF,GACzC,cAAAA,EAAAqF,KACAxC,EAAAuC,EAEA3B,EAAA,sBAIA6B,IAAA,SAAAJ,GACAzB,EAAAZ,GACAuB,KAEAmB,GAAA,SAAAL,GACAtB,EAAA,mBAAAf,KAAyC,SAAA7C,GACzC,mBAAAA,GAAAwF,OACAxF,EAAAwF,MAAA3I,QAAA,SAAA4I,GACA,GAAAnB,GAAAmB,EAAAC,UACApB,IAAA,MAAAmB,EAAAE,MACArB,GAAA,MAAAmB,EAAA3I,KACA,IAAA8I,GAAA,GAAAC,MAAA,IAAAJ,EAAAK,SACAxB,IAAA,MAAAsB,EAAAG,cACAzB,GAAA,IAAAQ,EAAAc,EAAAI,YACA1B,GAAA,IAAAsB,EAAAK,UACA3B,GAAA,MAAAmB,EAAApJ,KACA,cAAAoJ,EAAAJ,OACAf,GAAA,KAEAb,EAAAa,QAKA4B,MAAA,SAAAhB,GACAtB,EAAA,aAA2B7D,KAAAwC,EAAA2C,IAAwB,SAAAlF,OAGnDmG,MAAA,SAAAjB,GACAtB,EAAA,YAA0B7D,KAAAwC,EAAA2C,IAAwB,SAAAlF,OAGlDoG,GAAA,SAAAlB,GACAtB,EAAA,UAAwB7D,KAAAwC,EAAA2C,IAAwB,SAAAlF,OAGhDqG,GAAA,SAAAnB,GACAA,IAAAtJ,MAAA,KACAgI,EAAA,QAAsB7D,KAAAwC,EAAA2C,EAAA,IAAAoB,YAAA/D,EAAA2C,EAAA,KAA8D,SAAAlF,OAGpFuG,GAAA,SAAArB,GACAA,IAAAtJ,MAAA,KACAgI,EAAA,QAAsB7D,KAAAwC,EAAA2C,EAAA,IAAAoB,YAAA/D,EAAA2C,EAAA,KAA8D,SAAAlF,OAGpFwG,IAAA,SAAAtB,GACAtB,EAAA,iBAAArB,EAAA2C,MAAqD,SAAAlF,GACrDyD,EAAAzD,MAGAyG,KAAA,SAAAvB,GACAH,SAAAC,KAAAjB,EAAA,eAAAxB,EAAA2C,IAEAwB,KAAA,SAAAxB,GACAH,SAAAC,KAAAjB,EAAA,cAAAxB,EAAA2C,IAEAyB,KAAA,SAAAzB,GACAH,SAAAC,KAAAjB,EAAA,cAAAxB,EAAA2C,IAEA0B,MAAA,SAAA1B,GACAH,SAAAC,KAAAjB,EAAA,mBAAAxB,EAAA2C,IA8EA/B,GAAA5F,KAAA,eACA4F,EAAAzF,QAAA,SAAA7B,GACA,aAAAA,EAAAL,KAAAK,EAAAG,UAaK,cAAAH,EAAAL,IACL,OAAAmI,GACAkB,EAAA5I,OAAA,IACAoI,EAAA,EACAA,EAAAQ,EAAA5I,OAAA,EACiBoI,EAAA,GACjBA,IAEAlB,EAAA3C,IAAA4C,EAAAyB,EAAAR,KAGAxI,EAAAc,iBACAd,EAAAe,sBACK,iBAAAf,EAAAL,IACL,OAAAmI,GACAkB,EAAA5I,OAAA,GAAAoI,GAAA,IACAA,EAAAQ,EAAA5I,OAAA,GACAoI,IACAlB,EAAA3C,IAAA4C,EAAAyB,EAAAR,MAEAA,KACAlB,EAAA3C,IAAA4C,KAIAvH,EAAAc,iBACAd,EAAAe,sBACK,iBAAAf,EAAAL,KAAA,aAAAK,EAAAL,IAAA,CACL,GAAAuD,GAAAoE,EAAA,GAAA0D,eACA7H,EAAAmE,EAAA,GAAA2D,YACA/H,KAAAC,GACAD,GAAAqE,EAAAnH,SACAJ,EAAAc,iBACAd,EAAAe,wBA9CA,CACA,UAAA+G,EAAA,CACAR,EAAA5F,KAAA,eAAAwJ,MACA,IAAAzC,GAAAnB,EAAA3C,MAAAoC,OAAAQ,EAAAnH,OACA4I,GAAA5H,KAAAqH,GACAlB,GAAAkB,EAAA,KACApB,GACA,IAAA5G,GAAAqH,CACAA,GAAA,KACArH,EAAAgI,GAEAzI,EAAAc,iBACAd,EAAAe,qBAwCAuG,EAAAzG,MAAA,WACA,GAAAqC,GAAAoE,EAAA,GAAA0D,eACA7H,EAAAmE,EAAA,GAAA2D,YACA/H,KAAAC,GACAD,EAAAqE,EAAAnH,SACAkH,EAAA,GAAA0D,eAAA1D,EAAA3C,MAAAvE,UAKA2H,EAAA,cAAmB,SAAA5D,GACnB0C,EAAA1C,KHwRMgH,GACA,SAAS5L,EAAQC,EAASC,GI5iBhC,GAAA2L,GAAAC,GAOC,SAAAC,GACD,GAAAC,IAAA,CASA,IAPAH,EAAA,EAAAC,EAAA,kBAAAD,KAAAI,KAAAhM,EAAAC,EAAAD,EAAAD,GAAA6L,IAAAK,SAAAJ,IAAA9L,EAAAC,QAAA6L,IACAE,GAAA,EAGAhM,EAAAC,QAAA8L,IACAC,GAAA,GAEAA,EAAA,CACA,GAAAG,GAAA9J,OAAAK,QACA0J,EAAA/J,OAAAK,QAAAqJ,GACAK,GAAAC,WAAA,WAEA,MADAhK,QAAAK,QAAAyJ,EACAC,KAGC,WACD,QAAAE,KAGA,IAFA,GAAAxL,GAAA,EACAyL,KACQzL,EAAA0L,UAAA3L,OAAsBC,IAAA,CAC9B,GAAA2L,GAAAD,UAAA1L,EACA,QAAAV,KAAAqM,GACAF,EAAAnM,GAAAqM,EAAArM,GAGA,MAAAmM,GAGA,QAAAG,GAAAC,GACA,QAAAP,GAAAhM,EAAAwM,EAAAH,GACA,GAAAF,EACA,uBAAAM,UAAA,CAMA,GAAAL,UAAA3L,OAAA,GAKA,GAJA4L,EAAAH,GACA3H,KAAA,KACKyH,EAAAU,SAAAL,GAEL,gBAAAA,GAAAM,QAAA,CACA,GAAAA,GAAA,GAAAtC,KACAsC,GAAAC,gBAAAD,EAAAE,kBAAA,MAAAR,EAAAM,SACAN,EAAAM,UAIAN,EAAAM,QAAAN,EAAAM,QAAAN,EAAAM,QAAAG,cAAA,EAEA,KACAX,EAAAjD,KAAAE,UAAAoD,GACA,UAAcO,KAAAZ,KACdK,EAAAL,GAEK,MAAA9L,IAMLmM,EAJAD,EAAAxE,MAIAwE,EAAAxE,MAAAyE,EAAAxM,GAHAgN,mBAAAC,OAAAT,IACA/H,QAAA,4DAAAyI,oBAKAlN,EAAAgN,mBAAAC,OAAAjN,IACAA,IAAAyE,QAAA,2BAAAyI,oBACAlN,IAAAyE,QAAA,UAAA0I,OAEA,IAAAC,GAAA,EAEA,QAAAC,KAAAhB,GACAA,EAAAgB,KAGAD,GAAA,KAAgCC,EAChChB,EAAAgB,MAAA,IAGAD,GAAA,IAAAf,EAAAgB,IAEA,OAAAZ,UAAAa,OAAAtN,EAAA,IAAAwM,EAAAY,EAKApN,IACAmM,KAUA,KAJA,GAAAoB,GAAAd,SAAAa,OAAAb,SAAAa,OAAAlN,MAAA,SACAoN,EAAA,mBACA9M,EAAA,EAESA,EAAA6M,EAAA9M,OAAoBC,IAAA,CAC7B,GAAAR,GAAAqN,EAAA7M,GAAAN,MAAA,KACAkN,EAAApN,EAAAuN,MAAA,GAAAhG,KAAA,IAEA1C,MAAA2I,MAAA,MAAAJ,EAAAK,OAAA,KACAL,IAAAG,MAAA,MAGA,KACA,GAAA5M,GAAAX,EAAA,GAAAuE,QAAA+I,EAAAN,mBAKA,IAJAI,EAAAf,EAAAqB,KACArB,EAAAqB,KAAAN,EAAAzM,GAAA0L,EAAAe,EAAAzM,IACAyM,EAAA7I,QAAA+I,EAAAN,oBAEAnI,KAAA2I,KACA,IACAJ,EAAApE,KAAAC,MAAAmE,GACO,MAAAjN,IAGP,GAAAL,IAAAa,EAAA,CACAsL,EAAAmB,CACA,OAGAtN,IACAmM,EAAAtL,GAAAyM,GAEK,MAAAjN,KAGL,MAAA8L,IAsBA,MAnBAH,GAAA6B,IAAA7B,EACAA,EAAAtJ,IAAA,SAAA1C,GACA,MAAAgM,GAAAH,KAAAG,EAAAhM,IAEAgM,EAAA8B,QAAA,WACA,MAAA9B,GAAA+B,OACAL,MAAA,MACID,MAAA5B,KAAAO,aAEJJ,EAAAU,YAEAV,EAAAgC,OAAA,SAAAhO,EAAAqM,GACAL,EAAAhM,EAAA,GAAAkM,EAAAG,GACAM,eAIAX,EAAAiC,cAAA3B,EAEAN,EAGA,MAAAM,GAAA,mBJojBG","file":"dist/terminal.js","sourcesContent":["webpackJsonp([6],{\n\n/***/ 1:\n/***/ function(module, exports, __webpack_require__) {\n\n/*\n * BlogSTEP \n * Copyright (c) 2016 Niels Sonnich Poulsen (http://nielssp.dk)\n * Licensed under the MIT license.\n * See the LICENSE file or http://opensource.org/licenses/MIT for more information.\n */\n\nvar $ = __webpack_require__(0);\n\nexports.define = defineAction;\nexports.enable = enable;\nexports.disable = disable;\nexports.enableGroup = enableGroup;\nexports.disableGroup = disableGroup;\nexports.activate = activate;\nexports.bind = bind;\n\nvar actions = {};\n\nvar actionGroups = {};\n\nvar keyMap = {};\n\n$(window).keydown(function (e) {\n    if (e.defaultPrevented) {\n        return;\n    }\n    var key = '';\n    if (e.ctrlKey) {\n        key += 'c-';\n    }\n    if (e.altKey) {\n        key += 'a-';\n    }\n    if (e.shiftKey) {\n        key += 's-';\n    }\n    if (e.metaKey) {\n        key += 'm-';\n    }\n    key += e.key.toLowerCase();\n    if (keyMap.hasOwnProperty(key)) {\n        activate(keyMap[key]);\n        return false;\n    }\n});\n\nfunction bind(key, action)\n{\n    var parts = key.toLowerCase().split(/-|\\+/);\n    var e = { ctrlKey: '', altKey: '', shiftKey: '' };\n    var key = parts[parts.length - 1];\n    for (var i = 0; i < parts.length - 1; i++) {\n        switch (parts[i]) {\n            case 'c':\n                e.ctrlKey = 'c-';\n                break;\n            case 'a':\n                e.altKey = 'a-';\n                break;\n            case 's':\n                e.shiftKey = 's-';\n                break;\n        }\n    }\n    key = e.ctrlKey + e.altKey + e.shiftKey + key;\n    keyMap[key] = action;\n}\n\nfunction defineAction(name, callback, groups)\n{\n    actions[name] = callback;\n    $('[data-action=\"' + name + '\"]').click(function (e) {\n        e.preventDefault();\n        e.stopPropagation();\n        callback();\n        return false;\n    });\n    if (typeof groups !== 'undefined') {\n        groups.forEach(function (group) {\n            if (!actionGroups.hasOwnProperty(group)) {\n                actionGroups[group] = [];\n            }\n            actionGroups[group].push(name);\n        });\n    }\n}\n\nfunction activate(name)\n{\n    actions[name]();\n}\n\nfunction enableGroup(group)\n{\n    if (actionGroups.hasOwnProperty(group)) {\n        actionGroups[group].forEach(function (name) {\n            enable(name);\n        });\n    }\n}\n\nfunction disableGroup(group)\n{\n    if (actionGroups.hasOwnProperty(group)) {\n        actionGroups[group].forEach(function (name) {\n            disable(name);\n        });\n    }\n}\n\nfunction enable(name)\n{\n    if (typeof name === 'string') {\n        $('[data-action=\"' + name + '\"]').attr('disabled', false);\n    } else {\n        name.forEach(enable);\n    }\n}\n\nfunction disable(name)\n{\n    if (typeof name === 'string') {\n        $('[data-action=\"' + name + '\"]').attr('disabled', true);\n    } else {\n        name.forEach(disable);\n    }\n}\n\n/***/ },\n\n/***/ 2:\n/***/ function(module, exports, __webpack_require__) {\n\n/*\n * BlogSTEP\n * Copyright (c) 2016 Niels Sonnich Poulsen (http://nielssp.dk)\n * Licensed under the MIT license.\n * See the LICENSE file or http://opensource.org/licenses/MIT for more information.\n */\n\nvar $ = __webpack_require__(0);\nvar Cookies = __webpack_require__(60);\n\n$.ajaxSetup({\n    headers: { 'X-Csrf-Token': Cookies.get('Csrf-token') }\n});\n\nexports.shake = function (el, amount) {\n    amount = typeof amount === \"undefined\" ? 10 : amount;\n    var dbl = amount * 2;\n    return $(el).width($(el).width())\n            .animate({marginLeft: '+=' + amount}, 50)\n            .animate({marginLeft: '-=' + dbl}, 50)\n            .animate({marginLeft: '+=' + dbl}, 50)\n            .animate({marginLeft: '-=' + amount}, 50)\n            .queue(function () {\n                $(el).css('width', '')\n                        .css('margin-left', '')\n                        .finish();\n            });\n};\n\nexports.onLongPress = function(el, callback) {\n    var touching = false;\n    \n    var start = function (e) {\n        touching = true;\n    };\n    \n    var end = function (e) {\n        touching = false;\n    };\n    \n    el.addEventListener('touchstart', start);\n    el.addEventListener('touchend', end);\n    el.addEventListener('touchcancel', end);\n    el.addEventListener('touchmove', end);\n    el.addEventListener('contextmenu', function (e) {\n        if (touching) {\n            return callback(e);\n        }\n    });\n};\n\nexports.setProgress = function(el, progress, status) {\n    var bar = el.children[0];\n    var label = el.children[1];\n    progress = Math.floor(progress);\n    if (progress >= 100) {\n        el.className = 'progress success';\n    } else {\n        el.className = 'progress active';\n    }\n    bar.style.width = progress + '%';\n    bar.innerText = progress + '%';\n    if (typeof status !== 'undefined') {\n        label.innerText = status;\n    }\n};\n\nexports.handleLogin = function (done) {\n    var path = $('body').data('path').replace(/\\/$/, '');\n    $('#login').find('input').prop('disabled', false);\n    $('.login-frame').show();\n    $('#login').submit(function () {\n        var token = $(this).find('[name=\"request_token\"]').val();\n        $(this).find('input').prop('disabled', true);\n        $.ajax({\n            url: path,\n            method: 'post',\n            data: {\n                request_token: token,\n                username: $('#username').val(),\n                password: $('#password').val(),\n                remember: $('#remember_remember').is(':checked') ? { remember: 'remember' } : null\n            },\n            success: function () {\n                $('.login-frame').css({overflow: 'hidden', whiteSpace: 'no-wrap'}).animate({width: 0}, function () {\n                    $(this).hide().css({overflow: '', whiteSpace: '', width: ''});\n                    $('#login').off('submit');\n                    $('#password').val('');\n                    done();\n                });\n            },\n            error: function (xhr) {\n                $('#login').find('input').prop('disabled', false);\n                exports.shake($('.login-frame'));\n                $('#username').select();\n                $('#password').val('');\n            },\n            global: false\n        });\n        return false;\n    });\n};\n\nexports.handleError = function (event, xhr, settings, thrownError) {\n    var newToken = Cookies.get('Csrf-token');\n    if (settings.headers['X-Csrf-Token'] !== newToken) {\n        $.ajaxSetup({\n            headers: { 'X-Csrf-Token': newToken }\n        });\n        settings.headers['X-Csrf-Token'] = newToken;\n        $.ajax(settings);\n        return;\n    }\n    if (xhr.status === 401) {\n        $('#login-overlay').show();\n        $('#password').focus();\n        exports.handleLogin(function () {\n            $('#login-overlay').hide();\n            $.ajax(settings);\n        });\n        return;\n    } else if (typeof xhr.responseJSON !== 'undefined') {\n        alert(xhr.responseJSON.message);\n    } else {\n        alert(xhr.responseText);\n    }\n    exports.shake($('main > .frame'));\n    console.log(event, xhr, settings, thrownError);\n};\n\n\n/***/ },\n\n/***/ 55:\n/***/ function(module, exports, __webpack_require__) {\n\n/*\n * BlogSTEP \n * Copyright (c) 2016 Niels Sonnich Poulsen (http://nielssp.dk)\n * Licensed under the MIT license.\n * See the LICENSE file or http://opensource.org/licenses/MIT for more information.\n */\n\nvar $ = __webpack_require__(0);\nvar actions = __webpack_require__(1);\nvar ui = __webpack_require__(2);\n\nvar $terminal = $('#terminal');\n\nvar buffer = '';\nvar cmdHistory = [];\nvar cmdHistoryPos = -1;\nvar readCallback = null;\n\nvar user = {};\nvar cwd = $terminal.data('path');\n\nvar PATH = $('body').data('path').replace(/\\/$/, '');\nvar TOKEN = $terminal.data('token');\n\nvar months = [\n    'Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun',\n    'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'\n];\n\nactions.define('close', function () {\n    location.href = PATH + '/files?path=' + cwd;\n});\n\nfunction convertPath(path)\n{\n    path = path.trim();\n    if (path.startsWith('~')) {\n        path = user.home + path.substr(1);\n    } else if (!path.startsWith('/')) {\n        path = cwd + '/' + path;\n    }\n    var names = path.split('/');\n    var stack = [];\n    for (var i = 0; i < names.length; i++) {\n        if (names[i] === '..') {\n            if (stack.length >= 1) {\n                stack.pop();\n            }\n        } else if (names[i] !== '' && names[i] !== '.') {\n            stack.push(names[i]);\n        }\n    }\n    return '/' + stack.join('/');\n}\n\nvar commands = {\n    clear: function (args) {\n        buffer = '';\n        flush();\n        prompt();\n    },\n    cd: function (args) {\n        var nwd = convertPath(args);\n        exec('list-files?path=' + nwd, {}, function (data) {\n            if (data.type === 'directory') {\n                cwd = nwd;\n            } else {\n                writeLine('not a directory');\n            }\n        });\n    },\n    pwd: function (args) {\n        writeLine(cwd);\n        prompt();\n    },\n    ls: function (args) {\n        exec('list-files?path=' + cwd, {}, function (data) {\n            if (typeof data.files !== 'undefined') {\n                data.files.forEach(function (file) {\n                    var line = file.modeString;\n                    line += ' \\t' + file.owner;\n                    line += ' \\t' + file.group;\n                    var date = new Date(file.modified * 1000);\n                    line += ' \\t' + date.getFullYear();\n                    line += ' ' + months[date.getMonth()];\n                    line += ' ' + date.getDate();\n                    line += ' \\t' + file.name;\n                    if (file.type === 'directory') {\n                        line += '/';\n                    }\n                    writeLine(line);\n                });\n            }\n        });\n    },\n    touch: function (args) {\n        exec('make-file', {path: convertPath(args)}, function (data) {\n        });\n    },\n    mkdir: function (args) {\n        exec('make-dir', {path: convertPath(args)}, function (data) {\n        });\n    },\n    rm: function (args) {\n        exec('delete', {path: convertPath(args)}, function (data) {\n        });\n    },\n    cp: function (args) {\n        args = args.split(' ');\n        exec('copy', {path: convertPath(args[0]), destination: convertPath(args[1])}, function (data) {\n        });\n    },\n    mv: function (args) {\n        args = args.split(' ');\n        exec('move', {path: convertPath(args[0]), destination: convertPath(args[1])}, function (data) {\n        });\n    },\n    cat: function (args) {\n        exec('download?path=' + convertPath(args), {}, function (data) {\n            writeLine(data);\n        });\n    },\n    exit: function (args) {\n        location.href = PATH + '/files?path=' + convertPath(args);\n    },\n    open: function (args) {\n        location.href = PATH + '/open?path=' + convertPath(args);\n    },\n    edit: function (args) {\n        location.href = PATH + '/edit?path=' + convertPath(args);\n    },\n    cedit: function (args) {\n        location.href = PATH + '/code-edit?path=' + convertPath(args);\n    }\n};\n\nfunction flush()\n{\n    $terminal.val(buffer);\n    $terminal[0].scrollTop = $terminal[0].scrollHeight;\n//    $terminal.scrollTop($terminal.innerHeight());\n}\n\nfunction write(content)\n{\n    buffer += content;\n    flush();\n}\n\nfunction writeLine(content)\n{\n    write(content + '\\n');\n}\n\nfunction readLine(callback)\n{\n    $terminal.attr('readonly', false).focus();\n    readCallback = callback;\n}\n\nfunction exec(command, data, success)\n{\n    data['request_token'] = TOKEN;\n    $.ajax({\n        url: PATH + '/api/' + command,\n        method: 'post',\n        data: data,\n        success: success,\n        error: function (xhr) {\n            ui.shake($('.frame'));\n            if (xhr.status === 404) {\n                writeLine(xhr.status + ' ' + command + ': command not found');\n            } else if (typeof xhr.responseJSON !== 'undefined') {\n                writeLine(xhr.status + '(' + xhr.responseJSON.code + ') ' + xhr.responseJSON.message);\n            } else {\n                writeLine(xhr.status + ' ' + xhr.statusText + ': ' + xhr.responseText);\n            }\n        },\n        complete: prompt\n    });\n}\n\nfunction prompt()\n{\n    write(user.username + ' ' + cwd + '> ');\n    cmdHistoryPos = -1;\n    readLine(function (line) {\n        var m = line.trim().match(/^([^ ]+)(?: (.*))?/);\n        if (m === null) {\n            writeLine('Invalid command');\n            prompt();\n        } else {\n            var command = m[1];\n            if (commands.hasOwnProperty(command)) {\n                commands[command]((typeof m[2] === 'undefined')? '' : m[2]);\n            } else {\n                try {\n                    var data = (typeof m[2] === 'undefined') ? {} : JSON.parse(m[2]);\n                    exec(command, data, function (data) {\n                        writeLine(JSON.stringify(data, null, '  '));\n                    });\n                } catch (e) {\n                    writeLine(e);\n                    prompt();\n                }\n            }\n        }\n    });\n}\n\n$terminal.attr('readonly', true);\n$terminal.keydown(function (e) {\n    if (e.key === 'Enter' && !e.shiftKey) {\n        if (readCallback !== null) {\n            $terminal.attr('readonly', true).blur();\n            var line = $terminal.val().substr(buffer.length);\n            cmdHistory.push(line);\n            buffer += line + '\\n';\n            flush();\n            var callback = readCallback;\n            readCallback = null;\n            callback(line);\n        }\n        e.preventDefault();\n        e.stopPropagation();\n    } else if (e.key == 'ArrowUp') {\n        if (readCallback !== null) {\n            if (cmdHistory.length > 0) {\n                if (cmdHistoryPos < 0) {\n                    cmdHistoryPos = cmdHistory.length - 1;\n                } else if (cmdHistoryPos > 0) {\n                    cmdHistoryPos--;\n                }\n                $terminal.val(buffer + cmdHistory[cmdHistoryPos]);\n            }\n        }\n        e.preventDefault();\n        e.stopPropagation();\n    } else if (e.key == 'ArrowDown') {\n        if (readCallback !== null) {\n            if (cmdHistory.length > 0 && cmdHistoryPos >= 0) {\n                if (cmdHistoryPos < cmdHistory.length - 1) {\n                    cmdHistoryPos++;\n                    $terminal.val(buffer + cmdHistory[cmdHistoryPos]);\n                } else {\n                    cmdHistoryPos = -1;\n                    $terminal.val(buffer);\n                }\n            }\n        }\n        e.preventDefault();\n        e.stopPropagation();\n    } else if (e.key == 'ArrowLeft' || e.key == 'Backspace') {\n        var start = $terminal[0].selectionStart;\n        var end = $terminal[0].selectionEnd;\n        if (start === end) {\n            if (start <= buffer.length) {\n                e.preventDefault();\n                e.stopPropagation();\n            }\n        }\n    }\n});\n\n$terminal.click(function () {\n    var start = $terminal[0].selectionStart;\n    var end = $terminal[0].selectionEnd;\n    if (start === end) {\n        if (start < buffer.length) {\n            $terminal[0].selectionStart = $terminal.val().length;\n        }\n    }\n});\n\nexec('who-am-i', {}, function (data) {\n    user = data;\n});\n\n/***/ },\n\n/***/ 60:\n/***/ function(module, exports, __webpack_require__) {\n\nvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_RESULT__;/*!\n * JavaScript Cookie v2.2.0\n * https://github.com/js-cookie/js-cookie\n *\n * Copyright 2006, 2015 Klaus Hartl & Fagner Brack\n * Released under the MIT license\n */\n;(function (factory) {\n\tvar registeredInModuleLoader = false;\n\tif (true) {\n\t\t!(__WEBPACK_AMD_DEFINE_FACTORY__ = (factory), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.call(exports, __webpack_require__, exports, module)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t\tregisteredInModuleLoader = true;\n\t}\n\tif (true) {\n\t\tmodule.exports = factory();\n\t\tregisteredInModuleLoader = true;\n\t}\n\tif (!registeredInModuleLoader) {\n\t\tvar OldCookies = window.Cookies;\n\t\tvar api = window.Cookies = factory();\n\t\tapi.noConflict = function () {\n\t\t\twindow.Cookies = OldCookies;\n\t\t\treturn api;\n\t\t};\n\t}\n}(function () {\n\tfunction extend () {\n\t\tvar i = 0;\n\t\tvar result = {};\n\t\tfor (; i < arguments.length; i++) {\n\t\t\tvar attributes = arguments[ i ];\n\t\t\tfor (var key in attributes) {\n\t\t\t\tresult[key] = attributes[key];\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t}\n\n\tfunction init (converter) {\n\t\tfunction api (key, value, attributes) {\n\t\t\tvar result;\n\t\t\tif (typeof document === 'undefined') {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Write\n\n\t\t\tif (arguments.length > 1) {\n\t\t\t\tattributes = extend({\n\t\t\t\t\tpath: '/'\n\t\t\t\t}, api.defaults, attributes);\n\n\t\t\t\tif (typeof attributes.expires === 'number') {\n\t\t\t\t\tvar expires = new Date();\n\t\t\t\t\texpires.setMilliseconds(expires.getMilliseconds() + attributes.expires * 864e+5);\n\t\t\t\t\tattributes.expires = expires;\n\t\t\t\t}\n\n\t\t\t\t// We're using \"expires\" because \"max-age\" is not supported by IE\n\t\t\t\tattributes.expires = attributes.expires ? attributes.expires.toUTCString() : '';\n\n\t\t\t\ttry {\n\t\t\t\t\tresult = JSON.stringify(value);\n\t\t\t\t\tif (/^[\\{\\[]/.test(result)) {\n\t\t\t\t\t\tvalue = result;\n\t\t\t\t\t}\n\t\t\t\t} catch (e) {}\n\n\t\t\t\tif (!converter.write) {\n\t\t\t\t\tvalue = encodeURIComponent(String(value))\n\t\t\t\t\t\t.replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g, decodeURIComponent);\n\t\t\t\t} else {\n\t\t\t\t\tvalue = converter.write(value, key);\n\t\t\t\t}\n\n\t\t\t\tkey = encodeURIComponent(String(key));\n\t\t\t\tkey = key.replace(/%(23|24|26|2B|5E|60|7C)/g, decodeURIComponent);\n\t\t\t\tkey = key.replace(/[\\(\\)]/g, escape);\n\n\t\t\t\tvar stringifiedAttributes = '';\n\n\t\t\t\tfor (var attributeName in attributes) {\n\t\t\t\t\tif (!attributes[attributeName]) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tstringifiedAttributes += '; ' + attributeName;\n\t\t\t\t\tif (attributes[attributeName] === true) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tstringifiedAttributes += '=' + attributes[attributeName];\n\t\t\t\t}\n\t\t\t\treturn (document.cookie = key + '=' + value + stringifiedAttributes);\n\t\t\t}\n\n\t\t\t// Read\n\n\t\t\tif (!key) {\n\t\t\t\tresult = {};\n\t\t\t}\n\n\t\t\t// To prevent the for loop in the first place assign an empty array\n\t\t\t// in case there are no cookies at all. Also prevents odd result when\n\t\t\t// calling \"get()\"\n\t\t\tvar cookies = document.cookie ? document.cookie.split('; ') : [];\n\t\t\tvar rdecode = /(%[0-9A-Z]{2})+/g;\n\t\t\tvar i = 0;\n\n\t\t\tfor (; i < cookies.length; i++) {\n\t\t\t\tvar parts = cookies[i].split('=');\n\t\t\t\tvar cookie = parts.slice(1).join('=');\n\n\t\t\t\tif (!this.json && cookie.charAt(0) === '\"') {\n\t\t\t\t\tcookie = cookie.slice(1, -1);\n\t\t\t\t}\n\n\t\t\t\ttry {\n\t\t\t\t\tvar name = parts[0].replace(rdecode, decodeURIComponent);\n\t\t\t\t\tcookie = converter.read ?\n\t\t\t\t\t\tconverter.read(cookie, name) : converter(cookie, name) ||\n\t\t\t\t\t\tcookie.replace(rdecode, decodeURIComponent);\n\n\t\t\t\t\tif (this.json) {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tcookie = JSON.parse(cookie);\n\t\t\t\t\t\t} catch (e) {}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (key === name) {\n\t\t\t\t\t\tresult = cookie;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (!key) {\n\t\t\t\t\t\tresult[name] = cookie;\n\t\t\t\t\t}\n\t\t\t\t} catch (e) {}\n\t\t\t}\n\n\t\t\treturn result;\n\t\t}\n\n\t\tapi.set = api;\n\t\tapi.get = function (key) {\n\t\t\treturn api.call(api, key);\n\t\t};\n\t\tapi.getJSON = function () {\n\t\t\treturn api.apply({\n\t\t\t\tjson: true\n\t\t\t}, [].slice.call(arguments));\n\t\t};\n\t\tapi.defaults = {};\n\n\t\tapi.remove = function (key, attributes) {\n\t\t\tapi(key, '', extend(attributes, {\n\t\t\t\texpires: -1\n\t\t\t}));\n\t\t};\n\n\t\tapi.withConverter = init;\n\n\t\treturn api;\n\t}\n\n\treturn init(function () {});\n}));\n\n\n/***/ }\n\n},[55]);\n\n\n// WEBPACK FOOTER //\n// dist/terminal.js","/*\n * BlogSTEP \n * Copyright (c) 2016 Niels Sonnich Poulsen (http://nielssp.dk)\n * Licensed under the MIT license.\n * See the LICENSE file or http://opensource.org/licenses/MIT for more information.\n */\n\nvar $ = require('jquery');\n\nexports.define = defineAction;\nexports.enable = enable;\nexports.disable = disable;\nexports.enableGroup = enableGroup;\nexports.disableGroup = disableGroup;\nexports.activate = activate;\nexports.bind = bind;\n\nvar actions = {};\n\nvar actionGroups = {};\n\nvar keyMap = {};\n\n$(window).keydown(function (e) {\n    if (e.defaultPrevented) {\n        return;\n    }\n    var key = '';\n    if (e.ctrlKey) {\n        key += 'c-';\n    }\n    if (e.altKey) {\n        key += 'a-';\n    }\n    if (e.shiftKey) {\n        key += 's-';\n    }\n    if (e.metaKey) {\n        key += 'm-';\n    }\n    key += e.key.toLowerCase();\n    if (keyMap.hasOwnProperty(key)) {\n        activate(keyMap[key]);\n        return false;\n    }\n});\n\nfunction bind(key, action)\n{\n    var parts = key.toLowerCase().split(/-|\\+/);\n    var e = { ctrlKey: '', altKey: '', shiftKey: '' };\n    var key = parts[parts.length - 1];\n    for (var i = 0; i < parts.length - 1; i++) {\n        switch (parts[i]) {\n            case 'c':\n                e.ctrlKey = 'c-';\n                break;\n            case 'a':\n                e.altKey = 'a-';\n                break;\n            case 's':\n                e.shiftKey = 's-';\n                break;\n        }\n    }\n    key = e.ctrlKey + e.altKey + e.shiftKey + key;\n    keyMap[key] = action;\n}\n\nfunction defineAction(name, callback, groups)\n{\n    actions[name] = callback;\n    $('[data-action=\"' + name + '\"]').click(function (e) {\n        e.preventDefault();\n        e.stopPropagation();\n        callback();\n        return false;\n    });\n    if (typeof groups !== 'undefined') {\n        groups.forEach(function (group) {\n            if (!actionGroups.hasOwnProperty(group)) {\n                actionGroups[group] = [];\n            }\n            actionGroups[group].push(name);\n        });\n    }\n}\n\nfunction activate(name)\n{\n    actions[name]();\n}\n\nfunction enableGroup(group)\n{\n    if (actionGroups.hasOwnProperty(group)) {\n        actionGroups[group].forEach(function (name) {\n            enable(name);\n        });\n    }\n}\n\nfunction disableGroup(group)\n{\n    if (actionGroups.hasOwnProperty(group)) {\n        actionGroups[group].forEach(function (name) {\n            disable(name);\n        });\n    }\n}\n\nfunction enable(name)\n{\n    if (typeof name === 'string') {\n        $('[data-action=\"' + name + '\"]').attr('disabled', false);\n    } else {\n        name.forEach(enable);\n    }\n}\n\nfunction disable(name)\n{\n    if (typeof name === 'string') {\n        $('[data-action=\"' + name + '\"]').attr('disabled', true);\n    } else {\n        name.forEach(disable);\n    }\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./common/actions.js\n// module id = 1\n// module chunks = 0 1 2 3 4 5 6 7","/*\n * BlogSTEP\n * Copyright (c) 2016 Niels Sonnich Poulsen (http://nielssp.dk)\n * Licensed under the MIT license.\n * See the LICENSE file or http://opensource.org/licenses/MIT for more information.\n */\n\nvar $ = require('jquery');\nvar Cookies = require('js-cookie');\n\n$.ajaxSetup({\n    headers: { 'X-Csrf-Token': Cookies.get('Csrf-token') }\n});\n\nexports.shake = function (el, amount) {\n    amount = typeof amount === \"undefined\" ? 10 : amount;\n    var dbl = amount * 2;\n    return $(el).width($(el).width())\n            .animate({marginLeft: '+=' + amount}, 50)\n            .animate({marginLeft: '-=' + dbl}, 50)\n            .animate({marginLeft: '+=' + dbl}, 50)\n            .animate({marginLeft: '-=' + amount}, 50)\n            .queue(function () {\n                $(el).css('width', '')\n                        .css('margin-left', '')\n                        .finish();\n            });\n};\n\nexports.onLongPress = function(el, callback) {\n    var touching = false;\n    \n    var start = function (e) {\n        touching = true;\n    };\n    \n    var end = function (e) {\n        touching = false;\n    };\n    \n    el.addEventListener('touchstart', start);\n    el.addEventListener('touchend', end);\n    el.addEventListener('touchcancel', end);\n    el.addEventListener('touchmove', end);\n    el.addEventListener('contextmenu', function (e) {\n        if (touching) {\n            return callback(e);\n        }\n    });\n};\n\nexports.setProgress = function(el, progress, status) {\n    var bar = el.children[0];\n    var label = el.children[1];\n    progress = Math.floor(progress);\n    if (progress >= 100) {\n        el.className = 'progress success';\n    } else {\n        el.className = 'progress active';\n    }\n    bar.style.width = progress + '%';\n    bar.innerText = progress + '%';\n    if (typeof status !== 'undefined') {\n        label.innerText = status;\n    }\n};\n\nexports.handleLogin = function (done) {\n    var path = $('body').data('path').replace(/\\/$/, '');\n    $('#login').find('input').prop('disabled', false);\n    $('.login-frame').show();\n    $('#login').submit(function () {\n        var token = $(this).find('[name=\"request_token\"]').val();\n        $(this).find('input').prop('disabled', true);\n        $.ajax({\n            url: path,\n            method: 'post',\n            data: {\n                request_token: token,\n                username: $('#username').val(),\n                password: $('#password').val(),\n                remember: $('#remember_remember').is(':checked') ? { remember: 'remember' } : null\n            },\n            success: function () {\n                $('.login-frame').css({overflow: 'hidden', whiteSpace: 'no-wrap'}).animate({width: 0}, function () {\n                    $(this).hide().css({overflow: '', whiteSpace: '', width: ''});\n                    $('#login').off('submit');\n                    $('#password').val('');\n                    done();\n                });\n            },\n            error: function (xhr) {\n                $('#login').find('input').prop('disabled', false);\n                exports.shake($('.login-frame'));\n                $('#username').select();\n                $('#password').val('');\n            },\n            global: false\n        });\n        return false;\n    });\n};\n\nexports.handleError = function (event, xhr, settings, thrownError) {\n    var newToken = Cookies.get('Csrf-token');\n    if (settings.headers['X-Csrf-Token'] !== newToken) {\n        $.ajaxSetup({\n            headers: { 'X-Csrf-Token': newToken }\n        });\n        settings.headers['X-Csrf-Token'] = newToken;\n        $.ajax(settings);\n        return;\n    }\n    if (xhr.status === 401) {\n        $('#login-overlay').show();\n        $('#password').focus();\n        exports.handleLogin(function () {\n            $('#login-overlay').hide();\n            $.ajax(settings);\n        });\n        return;\n    } else if (typeof xhr.responseJSON !== 'undefined') {\n        alert(xhr.responseJSON.message);\n    } else {\n        alert(xhr.responseText);\n    }\n    exports.shake($('main > .frame'));\n    console.log(event, xhr, settings, thrownError);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./common/ui.js\n// module id = 2\n// module chunks = 0 1 2 4 5 6 7 8","/*\n * BlogSTEP \n * Copyright (c) 2016 Niels Sonnich Poulsen (http://nielssp.dk)\n * Licensed under the MIT license.\n * See the LICENSE file or http://opensource.org/licenses/MIT for more information.\n */\n\nvar $ = require('jquery');\nvar actions = require('./common/actions');\nvar ui = require('./common/ui');\n\nvar $terminal = $('#terminal');\n\nvar buffer = '';\nvar cmdHistory = [];\nvar cmdHistoryPos = -1;\nvar readCallback = null;\n\nvar user = {};\nvar cwd = $terminal.data('path');\n\nvar PATH = $('body').data('path').replace(/\\/$/, '');\nvar TOKEN = $terminal.data('token');\n\nvar months = [\n    'Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun',\n    'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'\n];\n\nactions.define('close', function () {\n    location.href = PATH + '/files?path=' + cwd;\n});\n\nfunction convertPath(path)\n{\n    path = path.trim();\n    if (path.startsWith('~')) {\n        path = user.home + path.substr(1);\n    } else if (!path.startsWith('/')) {\n        path = cwd + '/' + path;\n    }\n    var names = path.split('/');\n    var stack = [];\n    for (var i = 0; i < names.length; i++) {\n        if (names[i] === '..') {\n            if (stack.length >= 1) {\n                stack.pop();\n            }\n        } else if (names[i] !== '' && names[i] !== '.') {\n            stack.push(names[i]);\n        }\n    }\n    return '/' + stack.join('/');\n}\n\nvar commands = {\n    clear: function (args) {\n        buffer = '';\n        flush();\n        prompt();\n    },\n    cd: function (args) {\n        var nwd = convertPath(args);\n        exec('list-files?path=' + nwd, {}, function (data) {\n            if (data.type === 'directory') {\n                cwd = nwd;\n            } else {\n                writeLine('not a directory');\n            }\n        });\n    },\n    pwd: function (args) {\n        writeLine(cwd);\n        prompt();\n    },\n    ls: function (args) {\n        exec('list-files?path=' + cwd, {}, function (data) {\n            if (typeof data.files !== 'undefined') {\n                data.files.forEach(function (file) {\n                    var line = file.modeString;\n                    line += ' \\t' + file.owner;\n                    line += ' \\t' + file.group;\n                    var date = new Date(file.modified * 1000);\n                    line += ' \\t' + date.getFullYear();\n                    line += ' ' + months[date.getMonth()];\n                    line += ' ' + date.getDate();\n                    line += ' \\t' + file.name;\n                    if (file.type === 'directory') {\n                        line += '/';\n                    }\n                    writeLine(line);\n                });\n            }\n        });\n    },\n    touch: function (args) {\n        exec('make-file', {path: convertPath(args)}, function (data) {\n        });\n    },\n    mkdir: function (args) {\n        exec('make-dir', {path: convertPath(args)}, function (data) {\n        });\n    },\n    rm: function (args) {\n        exec('delete', {path: convertPath(args)}, function (data) {\n        });\n    },\n    cp: function (args) {\n        args = args.split(' ');\n        exec('copy', {path: convertPath(args[0]), destination: convertPath(args[1])}, function (data) {\n        });\n    },\n    mv: function (args) {\n        args = args.split(' ');\n        exec('move', {path: convertPath(args[0]), destination: convertPath(args[1])}, function (data) {\n        });\n    },\n    cat: function (args) {\n        exec('download?path=' + convertPath(args), {}, function (data) {\n            writeLine(data);\n        });\n    },\n    exit: function (args) {\n        location.href = PATH + '/files?path=' + convertPath(args);\n    },\n    open: function (args) {\n        location.href = PATH + '/open?path=' + convertPath(args);\n    },\n    edit: function (args) {\n        location.href = PATH + '/edit?path=' + convertPath(args);\n    },\n    cedit: function (args) {\n        location.href = PATH + '/code-edit?path=' + convertPath(args);\n    }\n};\n\nfunction flush()\n{\n    $terminal.val(buffer);\n    $terminal[0].scrollTop = $terminal[0].scrollHeight;\n//    $terminal.scrollTop($terminal.innerHeight());\n}\n\nfunction write(content)\n{\n    buffer += content;\n    flush();\n}\n\nfunction writeLine(content)\n{\n    write(content + '\\n');\n}\n\nfunction readLine(callback)\n{\n    $terminal.attr('readonly', false).focus();\n    readCallback = callback;\n}\n\nfunction exec(command, data, success)\n{\n    data['request_token'] = TOKEN;\n    $.ajax({\n        url: PATH + '/api/' + command,\n        method: 'post',\n        data: data,\n        success: success,\n        error: function (xhr) {\n            ui.shake($('.frame'));\n            if (xhr.status === 404) {\n                writeLine(xhr.status + ' ' + command + ': command not found');\n            } else if (typeof xhr.responseJSON !== 'undefined') {\n                writeLine(xhr.status + '(' + xhr.responseJSON.code + ') ' + xhr.responseJSON.message);\n            } else {\n                writeLine(xhr.status + ' ' + xhr.statusText + ': ' + xhr.responseText);\n            }\n        },\n        complete: prompt\n    });\n}\n\nfunction prompt()\n{\n    write(user.username + ' ' + cwd + '> ');\n    cmdHistoryPos = -1;\n    readLine(function (line) {\n        var m = line.trim().match(/^([^ ]+)(?: (.*))?/);\n        if (m === null) {\n            writeLine('Invalid command');\n            prompt();\n        } else {\n            var command = m[1];\n            if (commands.hasOwnProperty(command)) {\n                commands[command]((typeof m[2] === 'undefined')? '' : m[2]);\n            } else {\n                try {\n                    var data = (typeof m[2] === 'undefined') ? {} : JSON.parse(m[2]);\n                    exec(command, data, function (data) {\n                        writeLine(JSON.stringify(data, null, '  '));\n                    });\n                } catch (e) {\n                    writeLine(e);\n                    prompt();\n                }\n            }\n        }\n    });\n}\n\n$terminal.attr('readonly', true);\n$terminal.keydown(function (e) {\n    if (e.key === 'Enter' && !e.shiftKey) {\n        if (readCallback !== null) {\n            $terminal.attr('readonly', true).blur();\n            var line = $terminal.val().substr(buffer.length);\n            cmdHistory.push(line);\n            buffer += line + '\\n';\n            flush();\n            var callback = readCallback;\n            readCallback = null;\n            callback(line);\n        }\n        e.preventDefault();\n        e.stopPropagation();\n    } else if (e.key == 'ArrowUp') {\n        if (readCallback !== null) {\n            if (cmdHistory.length > 0) {\n                if (cmdHistoryPos < 0) {\n                    cmdHistoryPos = cmdHistory.length - 1;\n                } else if (cmdHistoryPos > 0) {\n                    cmdHistoryPos--;\n                }\n                $terminal.val(buffer + cmdHistory[cmdHistoryPos]);\n            }\n        }\n        e.preventDefault();\n        e.stopPropagation();\n    } else if (e.key == 'ArrowDown') {\n        if (readCallback !== null) {\n            if (cmdHistory.length > 0 && cmdHistoryPos >= 0) {\n                if (cmdHistoryPos < cmdHistory.length - 1) {\n                    cmdHistoryPos++;\n                    $terminal.val(buffer + cmdHistory[cmdHistoryPos]);\n                } else {\n                    cmdHistoryPos = -1;\n                    $terminal.val(buffer);\n                }\n            }\n        }\n        e.preventDefault();\n        e.stopPropagation();\n    } else if (e.key == 'ArrowLeft' || e.key == 'Backspace') {\n        var start = $terminal[0].selectionStart;\n        var end = $terminal[0].selectionEnd;\n        if (start === end) {\n            if (start <= buffer.length) {\n                e.preventDefault();\n                e.stopPropagation();\n            }\n        }\n    }\n});\n\n$terminal.click(function () {\n    var start = $terminal[0].selectionStart;\n    var end = $terminal[0].selectionEnd;\n    if (start === end) {\n        if (start < buffer.length) {\n            $terminal[0].selectionStart = $terminal.val().length;\n        }\n    }\n});\n\nexec('who-am-i', {}, function (data) {\n    user = data;\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./terminal.js\n// module id = 55\n// module chunks = 6","/*!\n * JavaScript Cookie v2.2.0\n * https://github.com/js-cookie/js-cookie\n *\n * Copyright 2006, 2015 Klaus Hartl & Fagner Brack\n * Released under the MIT license\n */\n;(function (factory) {\n\tvar registeredInModuleLoader = false;\n\tif (typeof define === 'function' && define.amd) {\n\t\tdefine(factory);\n\t\tregisteredInModuleLoader = true;\n\t}\n\tif (typeof exports === 'object') {\n\t\tmodule.exports = factory();\n\t\tregisteredInModuleLoader = true;\n\t}\n\tif (!registeredInModuleLoader) {\n\t\tvar OldCookies = window.Cookies;\n\t\tvar api = window.Cookies = factory();\n\t\tapi.noConflict = function () {\n\t\t\twindow.Cookies = OldCookies;\n\t\t\treturn api;\n\t\t};\n\t}\n}(function () {\n\tfunction extend () {\n\t\tvar i = 0;\n\t\tvar result = {};\n\t\tfor (; i < arguments.length; i++) {\n\t\t\tvar attributes = arguments[ i ];\n\t\t\tfor (var key in attributes) {\n\t\t\t\tresult[key] = attributes[key];\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t}\n\n\tfunction init (converter) {\n\t\tfunction api (key, value, attributes) {\n\t\t\tvar result;\n\t\t\tif (typeof document === 'undefined') {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Write\n\n\t\t\tif (arguments.length > 1) {\n\t\t\t\tattributes = extend({\n\t\t\t\t\tpath: '/'\n\t\t\t\t}, api.defaults, attributes);\n\n\t\t\t\tif (typeof attributes.expires === 'number') {\n\t\t\t\t\tvar expires = new Date();\n\t\t\t\t\texpires.setMilliseconds(expires.getMilliseconds() + attributes.expires * 864e+5);\n\t\t\t\t\tattributes.expires = expires;\n\t\t\t\t}\n\n\t\t\t\t// We're using \"expires\" because \"max-age\" is not supported by IE\n\t\t\t\tattributes.expires = attributes.expires ? attributes.expires.toUTCString() : '';\n\n\t\t\t\ttry {\n\t\t\t\t\tresult = JSON.stringify(value);\n\t\t\t\t\tif (/^[\\{\\[]/.test(result)) {\n\t\t\t\t\t\tvalue = result;\n\t\t\t\t\t}\n\t\t\t\t} catch (e) {}\n\n\t\t\t\tif (!converter.write) {\n\t\t\t\t\tvalue = encodeURIComponent(String(value))\n\t\t\t\t\t\t.replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g, decodeURIComponent);\n\t\t\t\t} else {\n\t\t\t\t\tvalue = converter.write(value, key);\n\t\t\t\t}\n\n\t\t\t\tkey = encodeURIComponent(String(key));\n\t\t\t\tkey = key.replace(/%(23|24|26|2B|5E|60|7C)/g, decodeURIComponent);\n\t\t\t\tkey = key.replace(/[\\(\\)]/g, escape);\n\n\t\t\t\tvar stringifiedAttributes = '';\n\n\t\t\t\tfor (var attributeName in attributes) {\n\t\t\t\t\tif (!attributes[attributeName]) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tstringifiedAttributes += '; ' + attributeName;\n\t\t\t\t\tif (attributes[attributeName] === true) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tstringifiedAttributes += '=' + attributes[attributeName];\n\t\t\t\t}\n\t\t\t\treturn (document.cookie = key + '=' + value + stringifiedAttributes);\n\t\t\t}\n\n\t\t\t// Read\n\n\t\t\tif (!key) {\n\t\t\t\tresult = {};\n\t\t\t}\n\n\t\t\t// To prevent the for loop in the first place assign an empty array\n\t\t\t// in case there are no cookies at all. Also prevents odd result when\n\t\t\t// calling \"get()\"\n\t\t\tvar cookies = document.cookie ? document.cookie.split('; ') : [];\n\t\t\tvar rdecode = /(%[0-9A-Z]{2})+/g;\n\t\t\tvar i = 0;\n\n\t\t\tfor (; i < cookies.length; i++) {\n\t\t\t\tvar parts = cookies[i].split('=');\n\t\t\t\tvar cookie = parts.slice(1).join('=');\n\n\t\t\t\tif (!this.json && cookie.charAt(0) === '\"') {\n\t\t\t\t\tcookie = cookie.slice(1, -1);\n\t\t\t\t}\n\n\t\t\t\ttry {\n\t\t\t\t\tvar name = parts[0].replace(rdecode, decodeURIComponent);\n\t\t\t\t\tcookie = converter.read ?\n\t\t\t\t\t\tconverter.read(cookie, name) : converter(cookie, name) ||\n\t\t\t\t\t\tcookie.replace(rdecode, decodeURIComponent);\n\n\t\t\t\t\tif (this.json) {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tcookie = JSON.parse(cookie);\n\t\t\t\t\t\t} catch (e) {}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (key === name) {\n\t\t\t\t\t\tresult = cookie;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (!key) {\n\t\t\t\t\t\tresult[name] = cookie;\n\t\t\t\t\t}\n\t\t\t\t} catch (e) {}\n\t\t\t}\n\n\t\t\treturn result;\n\t\t}\n\n\t\tapi.set = api;\n\t\tapi.get = function (key) {\n\t\t\treturn api.call(api, key);\n\t\t};\n\t\tapi.getJSON = function () {\n\t\t\treturn api.apply({\n\t\t\t\tjson: true\n\t\t\t}, [].slice.call(arguments));\n\t\t};\n\t\tapi.defaults = {};\n\n\t\tapi.remove = function (key, attributes) {\n\t\t\tapi(key, '', extend(attributes, {\n\t\t\t\texpires: -1\n\t\t\t}));\n\t\t};\n\n\t\tapi.withConverter = init;\n\n\t\treturn api;\n\t}\n\n\treturn init(function () {});\n}));\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// /home/www/blogstep/~/js-cookie/src/js.cookie.js\n// module id = 60\n// module chunks = 0 1 2 4 5 6 7 8"],"sourceRoot":""}
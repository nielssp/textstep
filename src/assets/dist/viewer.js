webpackJsonp([5],{1:function(e,t,i){function n(e,t){for(var i=e.toLowerCase().split(/-|\+/),n={ctrlKey:"",altKey:"",shiftKey:""},e=i[i.length-1],a=0;a<i.length-1;a++)switch(i[a]){case"c":n.ctrlKey="c-";break;case"a":n.altKey="a-";break;case"s":n.shiftKey="s-"}e=n.ctrlKey+n.altKey+n.shiftKey+e,h[e]=t}function a(e,t,i){d[e]=t,u('[data-action="'+e+'"]').click(function(e){return e.preventDefault(),e.stopPropagation(),t(),!1}),void 0!==i&&i.forEach(function(t){v.hasOwnProperty(t)||(v[t]=[]),v[t].push(e)})}function r(e){d[e]()}function o(e){v.hasOwnProperty(e)&&v[e].forEach(function(e){l(e)})}function s(e){v.hasOwnProperty(e)&&v[e].forEach(function(e){c(e)})}function l(e){"string"==typeof e?u('[data-action="'+e+'"]').attr("disabled",!1):e.forEach(l)}function c(e){"string"==typeof e?u('[data-action="'+e+'"]').attr("disabled",!0):e.forEach(c)}var u=i(0);t.define=a,t.enable=l,t.disable=c,t.enableGroup=o,t.disableGroup=s,t.activate=r,t.bind=n;var d={},v={},h={};u(window).keydown(function(e){if(!e.defaultPrevented){var t="";return e.ctrlKey&&(t+="c-"),e.altKey&&(t+="a-"),e.shiftKey&&(t+="s-"),e.metaKey&&(t+="m-"),t+=e.key.toLowerCase(),h.hasOwnProperty(t)?(r(h[t]),!1):void 0}})},20:function(e,t){},23:function(e,t,i){var n,a;/*!
 * Viewer.js v0.5.1
 * https://github.com/fengyuanchen/viewerjs
 *
 * Copyright (c) 2015-2017 Fengyuan Chen
 * Released under the MIT license
 *
 * Date: 2017-01-02T13:01:55.700Z
 */
!function(t,i){"object"==typeof e&&"object"==typeof e.exports?e.exports=t.document?i(t,!0):function(e){if(!e.document)throw new Error("Viewer requires a window with a document");return i(e)}:i(t)}("undefined"!=typeof window?window:this,function(i,r){"use strict";function o(e){return pe.call(e).slice(8,-1).toLowerCase()}function s(e){return"string"==typeof e}function l(e){return"number"==typeof e&&!isNaN(e)}function c(e){return void 0===e}function u(e){return"object"==typeof e&&null!==e}function d(e){var t,i;if(!u(e))return!1;try{return t=e.constructor,i=t.prototype,t&&i&&be.call(i,"isPrototypeOf")}catch(e){return!1}}function v(e){return"function"===o(e)}function h(e){return Array.isArray?Array.isArray(e):"array"===o(e)}function f(e,t){return t=t>=0?t:0,Array.from?Array.from(e).slice(t):ye.call(e,t)}function m(e,t){var i=-1;return t.indexOf?t.indexOf(e):(g(t,function(t,n){if(t===e)return i=n,!1}),i)}function w(e){return s(e)&&(e=e.trim?e.trim():e.replace(ue,"1")),e}function g(e,t){var i,n;if(e&&v(t))if(h(e)||l(e.length))for(n=0,i=e.length;n<i&&!1!==t.call(e,e[n],n,e);n++);else if(u(e))for(n in e)if(e.hasOwnProperty(n)&&!1===t.call(e,e[n],n,e))break;return e}function p(e){var t;if(arguments.length>1){if(t=f(arguments),Object.assign)return Object.assign.apply(Object,t);t.shift(),g(t,function(t){g(t,function(t,i){e[i]=t})})}return e}function b(e,t){var i=f(arguments,2);return function(){return e.apply(t,i.concat(f(arguments)))}}function y(e,t){var i=e.style;g(t,function(e,t){le.test(t)&&l(e)&&(e+="px"),i[t]=e})}function x(e){return i.getComputedStyle?i.getComputedStyle(e,null):e.currentStyle}function E(e,t){return e.classList?e.classList.contains(t):e.className.indexOf(t)>-1}function k(e,t){var i;if(t){if(l(e.length))return g(e,function(e){k(e,t)});if(e.classList)return e.classList.add(t);i=w(e.className),i?i.indexOf(t)<0&&(e.className=i+" "+t):e.className=t}}function z(e,t){if(t)return l(e.length)?g(e,function(e){z(e,t)}):e.classList?e.classList.remove(t):void(e.className.indexOf(t)>=0&&(e.className=e.className.replace(t,"")))}function T(e,t,i){if(l(e.length))return g(e,function(e){T(e,t,i)});i?k(e,t):z(e,t)}function D(e){return e.replace(ce,"$1-$2").toLowerCase()}function I(e,t){return u(e[t])?e[t]:e.dataset?e.dataset[t]:e.getAttribute("data-"+D(t))}function L(e,t,i){u(i)?e[t]=i:e.dataset?e.dataset[t]=i:e.setAttribute("data-"+D(t),i)}function F(e,t){if(u(e[t]))delete e[t];else if(e.dataset)try{delete e.dataset[t]}catch(i){e.dataset[t]=null}else e.removeAttribute("data-"+D(t))}function V(e,t,i,n){var a=w(t).split(de),r=i;if(a.length>1)return g(a,function(t){V(e,t,i)});n&&(i=function(){return C(e,t,i),r.apply(e,arguments)}),e.addEventListener?e.addEventListener(t,i,!1):e.attachEvent&&e.attachEvent("on"+t,i)}function C(e,t,i){var n=w(t).split(de);if(n.length>1)return g(n,function(t){C(e,t,i)});e.removeEventListener?e.removeEventListener(t,i,!1):e.detachEvent&&e.detachEvent("on"+t,i)}function N(e,t,i){var n;return e.dispatchEvent?(v(J)&&v(CustomEvent)?n=c(i)?new J(t,{bubbles:!0,cancelable:!0}):new CustomEvent(t,{detail:i,bubbles:!0,cancelable:!0}):c(i)?(n=G.createEvent("Event"),n.initEvent(t,!0,!0)):(n=G.createEvent("CustomEvent"),n.initCustomEvent(t,!0,!0,i)),e.dispatchEvent(n)):e.fireEvent?e.fireEvent("on"+t):void 0}function Y(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function P(e){var t,n,a,r=e||i.event;return r.target||(r.target=r.srcElement||G),!l(r.pageX)&&l(r.clientX)&&(t=e.target.ownerDocument||G,n=t.documentElement,a=t.body,r.pageX=r.clientX+((n&&n.scrollLeft||a&&a.scrollLeft||0)-(n&&n.clientLeft||a&&a.clientLeft||0)),r.pageY=r.clientY+((n&&n.scrollTop||a&&a.scrollTop||0)-(n&&n.clientTop||a&&a.clientTop||0))),r}function S(e){var t=G.documentElement,n=e.getBoundingClientRect();return{left:n.left+(i.scrollX||t&&t.scrollLeft||0)-(t&&t.clientLeft||0),top:n.top+(i.scrollY||t&&t.scrollTop||0)-(t&&t.clientTop||0)}}function X(e,t){return e.getElementsByTagName(t)}function A(e,t){return e.getElementsByClassName?e.getElementsByClassName(t):e.querySelectorAll("."+t)}function O(e,t){if(t.length)return g(t,function(t){O(e,t)});e.appendChild(t)}function M(e){e.parentNode&&e.parentNode.removeChild(e)}function W(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function q(e,t){c(e.textContent)?e.innerText=t:e.textContent=t}function R(e){return e.offsetWidth}function _(e){return s(e)?e.replace(/^.*\//,"").replace(/[\?&#].*$/,""):""}function K(e,t){var i;if(e.naturalWidth)return t(e.naturalWidth,e.naturalHeight);i=G.createElement("img"),i.onload=function(){t(this.width,this.height)},i.src=e.src}function B(e){var t=[],i=e.rotate,n=e.scaleX,a=e.scaleY;return l(i)&&t.push("rotate("+i+"deg)"),l(n)&&t.push("scaleX("+n+")"),l(a)&&t.push("scaleY("+a+")"),t.length?t.join(" "):"none"}function j(e){switch(e){case 2:return ee;case 3:return te;case 4:return ie}}function H(e,t){var i={endX:e.pageX,endY:e.pageY};return t?i:p({startX:e.pageX,startY:e.pageY},i)}function $(e){var t=p({},e),i=[];return g(e,function(e,n){delete t[n],g(t,function(t){var n=Math.abs(e.startX-t.startX),a=Math.abs(e.startY-t.startY),r=Math.abs(e.endX-t.endX),o=Math.abs(e.endY-t.endY),s=Math.sqrt(n*n+a*a),l=Math.sqrt(r*r+o*o),c=(l-s)/s;i.push(c)})}),i.sort(function(e,t){return Math.abs(e)<Math.abs(t)}),i[0]}function U(e){var t=0,i=0,n=0;return g(e,function(e){t+=e.startX,i+=e.startY,n+=1}),t/=n,i/=n,{pageX:t,pageY:i}}function Z(e,t){var i=this;i.element=e,i.options=p({},Z.DEFAULTS,d(t)&&t),i.isImg=!1,i.isBuilt=!1,i.isShown=!1,i.isViewed=!1,i.isFulled=!1,i.isPlayed=!1,i.wheeling=!1,i.playing=!1,i.fading=!1,i.tooltiping=!1,i.transitioning=!1,i.action=!1,i.target=!1,i.timeout=!1,i.index=0,i.length=0,i.pointers={},i.init()}var G=i.document,J=i.Event,Q=i.PointerEvent,ee="viewer-hide-xs-down",te="viewer-hide-sm-down",ie="viewer-hide-md-down",ne="viewer-in",ae="viewer-transition",re=Q?"pointerdown":"touchstart mousedown",oe=Q?"pointermove":"mousemove touchmove",se=Q?"pointerup pointercancel":"touchend touchcancel mouseup",le=/^(width|height|left|top|marginLeft|marginTop)$/,ce=/([a-z\d])([A-Z])/g,ue=/^\s+(.*)\s+$/,de=/\s+/,ve=void 0!==G.createElement("viewer").style.transition,he=Math.min,fe=Math.max,me=Math.abs,we=(Math.sqrt,Math.round),ge=Object.prototype,pe=ge.toString,be=ge.hasOwnProperty,ye=Array.prototype.slice;Z.prototype={constructor:Z,init:function(){var e=this,t=e.options,n=e.element,a="img"===n.tagName.toLowerCase(),r=a?[n]:X(n,"img"),o=r.length,s=b(e.ready,e);I(n,"viewer")||(L(n,"viewer",e),o&&(v(t.ready)&&V(n,"ready",t.ready,!0),ve||(t.transition=!1),e.isImg=a,e.length=o,e.count=0,e.images=r,e.body=G.body,e.scrollbarWidth=i.innerWidth-G.body.clientWidth,t.inline?(V(n,"ready",function(){e.view()},!0),g(r,function(e){e.complete?s():V(e,"load",s,!0)})):V(n,"click",e._start=b(e.start,e))))},ready:function(){var e=this;++e.count===e.length&&e.build()},build:function(){var e,t,i,n,a,r,o,s,l=this,c=l.options,u=l.element;l.isBuilt||(e=G.createElement("div"),e.innerHTML=Z.TEMPLATE,l.parent=t=u.parentNode,l.viewer=i=A(e,"viewer-container")[0],l.canvas=A(i,"viewer-canvas")[0],l.footer=A(i,"viewer-footer")[0],l.title=o=A(i,"viewer-title")[0],l.toolbar=a=A(i,"viewer-toolbar")[0],l.navbar=r=A(i,"viewer-navbar")[0],l.button=n=A(i,"viewer-button")[0],l.tooltipBox=A(i,"viewer-tooltip")[0],l.player=A(i,"viewer-player")[0],l.list=A(i,"viewer-list")[0],k(o,c.title?j(c.title):"viewer-hide"),k(a,c.toolbar?j(c.toolbar):"viewer-hide"),k(r,c.navbar?j(c.navbar):"viewer-hide"),T(n,"viewer-hide",!c.button),T(a.querySelector(".viewer-one-to-one"),"viewer-invisible",!c.zoomable),T(a.querySelectorAll('li[class*="zoom"]'),"viewer-invisible",!c.zoomable),T(a.querySelectorAll('li[class*="flip"]'),"viewer-invisible",!c.scalable),c.rotatable||(s=a.querySelectorAll('li[class*="rotate"]'),k(s,"viewer-invisible"),O(a,s)),c.inline?(k(n,"viewer-fullscreen"),y(i,{zIndex:c.zIndexInline}),"static"===x(t).position&&y(t,{position:"relative"})):(k(n,"viewer-close"),k(i,"viewer-fixed"),k(i,"viewer-fade"),k(i,"viewer-hide"),y(i,{zIndex:c.zIndex})),t.insertBefore(i,u.nextSibling),c.inline&&(l.render(),l.bind(),l.isShown=!0),l.isBuilt=!0,N(u,"ready"))},unbuild:function(){var e=this;e.isBuilt&&(e.isBuilt=!1,M(e.viewer))},bind:function(){var e=this,t=e.options,n=e.element,a=e.viewer;v(t.view)&&V(n,"view",t.view),v(t.viewed)&&V(n,"viewed",t.viewed),V(a,"click",e._click=b(e.click,e)),V(a,"wheel mousewheel DOMMouseScroll",e._wheel=b(e.wheel,e)),V(e.canvas,re,e._mousedown=b(e.mousedown,e)),V(G,oe,e._mousemove=b(e.mousemove,e)),V(G,se,e._mouseup=b(e.mouseup,e)),V(G,"keydown",e._keydown=b(e.keydown,e)),V(i,"resize",e._resize=b(e.resize,e))},unbind:function(){var e=this,t=e.options,n=e.element,a=e.viewer;v(t.view)&&C(n,"view",t.view),v(t.viewed)&&C(n,"viewed",t.viewed),C(a,"click",e._click),C(a,"wheel mousewheel DOMMouseScroll",e._wheel),C(e.canvas,re,e._mousedown),C(G,oe,e._mousemove),C(G,se,e._mouseup),C(G,"keydown",e._keydown),C(i,"resize",e._resize)},render:function(){var e=this;e.initContainer(),e.initViewer(),e.initList(),e.renderViewer()},initContainer:function(){this.containerData={width:i.innerWidth,height:i.innerHeight}},initViewer:function(){var e,t=this,i=t.options,n=t.parent;i.inline&&(t.parentData=e={width:fe(n.offsetWidth,i.minWidth),height:fe(n.offsetHeight,i.minHeight)}),!t.isFulled&&e||(e=t.containerData),t.viewerData=p({},e)},renderViewer:function(){var e=this;e.options.inline&&!e.isFulled&&y(e.viewer,e.viewerData)},initList:function(){var e=this,t=e.options,i=e.element,n=e.list,a=[];g(e.images,function(e,i){var n=e.src,r=e.alt||_(n),o=t.url;n&&(s(o)?o=e.getAttribute(o):v(o)&&(o=o.call(e,e)),a.push('<li><img src="'+n+'" data-action="view" data-index="'+i+'" data-original-url="'+(o||n)+'" alt="'+r+'"></li>'))}),n.innerHTML=a.join(""),g(X(n,"img"),function(t){L(t,"filled",!0),V(t,"load",b(e.loadImage,e),!0)}),e.items=X(n,"li"),t.transition&&V(i,"viewed",function(){k(n,ae)},!0)},renderList:function(e){var t=this,i=e||t.index,n=t.items[i].offsetWidth||30,a=n+1;y(t.list,{width:a*t.length,marginLeft:(t.viewerData.width-n)/2-a*i})},resetList:function(){var e=this;W(e.list),z(e.list,ae),y({marginLeft:0})},initImage:function(e){var t=this,i=t.options,n=t.image,a=t.viewerData,r=t.footer.offsetHeight,o=a.width,s=fe(a.height-r,r),l=t.imageData||{};K(n,function(n,a){var r,c,u=n/a,d=o,h=s;s*u>o?h=o/u:d=s*u,d=he(.9*d,n),h=he(.9*h,a),c={naturalWidth:n,naturalHeight:a,aspectRatio:u,ratio:d/n,width:d,height:h,left:(o-d)/2,top:(s-h)/2},r=p({},c),i.rotatable&&(c.rotate=l.rotate||0,r.rotate=0),i.scalable&&(c.scaleX=l.scaleX||1,c.scaleY=l.scaleY||1,r.scaleX=1,r.scaleY=1),t.imageData=c,t.initialImageData=r,v(e)&&e()})},renderImage:function(e){var t=this,i=t.image,n=t.imageData,a=B(n);y(i,{width:n.width,height:n.height,marginLeft:n.left,marginTop:n.top,WebkitTransform:a,msTransform:a,transform:a}),v(e)&&(t.transitioning?V(i,"transitionend",e,!0):e())},resetImage:function(){var e=this;e.image&&(M(e.image),e.image=null)},start:function(e){var t=this,i=P(e),n=i.target;"img"===n.tagName.toLowerCase()&&(t.target=n,t.show())},click:function(e){var t=this,i=P(e),n=i.target,a=I(n,"action"),r=t.imageData;switch(a){case"mix":t.isPlayed?t.stop():t.options.inline?t.isFulled?t.exit():t.full():t.hide();break;case"view":t.view(I(n,"index"));break;case"zoom-in":t.zoom(.1,!0);break;case"zoom-out":t.zoom(-.1,!0);break;case"one-to-one":t.toggle();break;case"reset":t.reset();break;case"prev":t.prev();break;case"play":t.play();break;case"next":t.next();break;case"rotate-left":t.rotate(-90);break;case"rotate-right":t.rotate(90);break;case"flip-horizontal":t.scaleX(-r.scaleX||-1);break;case"flip-vertical":t.scaleY(-r.scaleY||-1);break;default:t.isPlayed&&t.stop()}},load:function(){var e=this,t=e.options,i=e.image,n=e.index,a=e.viewerData;e.timeout&&(clearTimeout(e.timeout),e.timeout=!1),z(i,"viewer-invisible"),i.style.cssText="width:0;height:0;margin-left:"+a.width/2+"px;margin-top:"+a.height/2+"px;max-width:none!important;visibility:visible;",e.initImage(function(){T(i,ae,t.transition),T(i,"viewer-move",t.movable),e.renderImage(function(){e.isViewed=!0,N(e.element,"viewed",{originalImage:e.images[n],index:n,image:i})})})},loadImage:function(e){var t=P(e),i=t.target,n=i.parentNode,a=n.offsetWidth||30,r=n.offsetHeight||50,o=!!I(i,"filled");K(i,function(e,t){var n=e/t,s=a,l=r;r*n>a?o?s=r*n:l=a/n:o?l=a/n:s=r*n,y(i,{width:s,height:l,marginLeft:(a-s)/2,marginTop:(r-l)/2})})},resize:function(){var e=this;e.initContainer(),e.initViewer(),e.renderViewer(),e.renderList(),e.isViewed&&e.initImage(function(){e.renderImage()}),e.isPlayed&&g(X(e.player,"img"),function(t){V(t,"load",b(e.loadImage,e),!0),N(t,"load")})},wheel:function(e){var t=this,i=P(e),n=Number(t.options.zoomRatio)||.1,a=1;t.isViewed&&(Y(i),t.wheeling||(t.wheeling=!0,setTimeout(function(){t.wheeling=!1},50),i.deltaY?a=i.deltaY>0?1:-1:i.wheelDelta?a=-i.wheelDelta/120:i.detail&&(a=i.detail>0?1:-1),t.zoom(-a*n,!0,i)))},keydown:function(e){var t=this,i=P(e),n=t.options,a=i.keyCode||i.which||i.charCode;if(t.isFulled&&n.keyboard)switch(a){case 27:t.isPlayed?t.stop():n.inline?t.isFulled&&t.exit():t.hide();break;case 32:t.isPlayed&&t.stop();break;case 37:t.prev();break;case 38:Y(i),t.zoom(n.zoomRatio,!0);break;case 39:t.next();break;case 40:Y(i),t.zoom(-n.zoomRatio,!0);break;case 48:case 49:(i.ctrlKey||i.shiftKey)&&(Y(i),t.toggle())}},mousedown:function(e){var t=this,i=t.options,n=t.pointers,a=P(e),r=!!i.movable&&"move";t.isViewed&&(a.changedTouches?g(a.changedTouches,function(e){n[e.identifier]=H(e)}):n[a.pointerId||0]=H(a),Object.keys(n).length>1?r="zoom":"touch"!==a.pointerType&&"touchmove"!==a.type||!t.isSwitchable()||(r="switch"),t.action=r)},mousemove:function(e){var t=this,i=t.options,n=t.pointers,a=P(e),r=t.action,o=t.image;t.isViewed&&r&&(Y(a),a.changedTouches?g(a.changedTouches,function(e){p(n[e.identifier],H(e),!0)}):p(n[a.pointerId||0],H(a,!0)),"move"===r&&i.transition&&E(o,ae)&&z(o,ae),t.change(a))},mouseup:function(e){var t=this,i=t.pointers,n=P(e),a=t.action;a&&(n.changedTouches?g(n.changedTouches,function(e){delete i[e.identifier]}):delete i[n.pointerId||0],Object.keys(i).length||("move"===a&&t.options.transition&&k(t.image,ae),t.action=!1))},show:function(){var e,t=this,i=t.options,n=t.element;return i.inline||t.transitioning?t:(t.isBuilt||t.build(),e=t.viewer,v(i.show)&&V(n,"show",i.show,!0),!1===N(n,"show")?t:(t.open(),z(e,"viewer-hide"),V(n,"shown",function(){t.view(t.target?m(t.target,f(t.images)):t.index),t.target=!1},!0),i.transition?(t.transitioning=!0,k(e,ae),R(e),V(e,"transitionend",b(t.shown,t),!0),k(e,ne)):(k(e,ne),t.shown()),t))},hide:function(){var e=this,t=e.options,i=e.element,n=e.viewer;return t.inline||e.transitioning||!e.isShown?e:(v(t.hide)&&V(i,"hide",t.hide,!0),!1===N(i,"hide")?e:(e.isViewed&&t.transition?(e.transitioning=!0,V(e.image,"transitionend",function(){V(n,"transitionend",b(e.hidden,e),!0),z(n,ne)},!0),e.zoomTo(0,!1,!1,!0)):(z(n,ne),e.hidden()),e))},view:function(e){var t,i,n,a,r,o=this,s=o.element,l=o.title,c=o.canvas;return e=Number(e)||0,!o.isShown||o.isPlayed||e<0||e>=o.length||o.isViewed&&e===o.index?o:(i=o.items[e],n=X(i,"img")[0],a=I(n,"originalUrl"),r=n.getAttribute("alt"),t=G.createElement("img"),t.src=a,t.alt=r,!1===N(s,"view",{originalImage:o.images[e],index:e,image:t})?o:(o.image=t,o.isViewed&&z(o.items[o.index],"viewer-active"),k(i,"viewer-active"),o.isViewed=!1,o.index=e,o.imageData=null,k(t,"viewer-invisible"),W(c),O(c,t),o.renderList(),W(l),V(s,"viewed",function(){var e=o.imageData,t=e.naturalWidth,i=e.naturalHeight;q(l,r+" ("+t+" × "+i+")")},!0),t.complete?o.load():(V(t,"load",b(o.load,o),!0),o.timeout&&clearTimeout(o.timeout),o.timeout=setTimeout(function(){z(t,"viewer-invisible"),o.timeout=!1},1e3)),o))},prev:function(){var e=this;return e.view(fe(e.index-1,0)),e},next:function(){var e=this;return e.view(he(e.index+1,e.length-1)),e},move:function(e,t){var i=this,n=i.imageData;return i.moveTo(c(e)?e:n.left+Number(e),c(t)?t:n.top+Number(t)),i},moveTo:function(e,t){var i=this,n=i.imageData,a=!1;return c(t)&&(t=e),e=Number(e),t=Number(t),i.isViewed&&!i.isPlayed&&i.options.movable&&(l(e)&&(n.left=e,a=!0),l(t)&&(n.top=t,a=!0),a&&i.renderImage()),i},zoom:function(e,t,i){var n=this,a=n.imageData;return e=Number(e),e=e<0?1/(1-e):1+e,n.zoomTo(a.width*e/a.naturalWidth,t,i),n},zoomTo:function(e,t,i,n){var a,r,o,s,c=this,u=c.options,d=c.pointers,v=.01,h=100,f=c.imageData;return e=fe(0,e),l(e)&&c.isViewed&&!c.isPlayed&&(n||u.zoomable)&&(n||(v=fe(v,u.minZoomRatio),h=he(h,u.maxZoomRatio),e=he(fe(e,v),h)),e>.95&&e<1.05&&(e=1),a=f.naturalWidth*e,r=f.naturalHeight*e,i?(o=S(c.viewer),s=d&&Object.keys(d).length?U(d):{pageX:i.pageX,pageY:i.pageY},f.left-=(a-f.width)*((s.pageX-o.left-f.left)/f.width),f.top-=(r-f.height)*((s.pageY-o.top-f.top)/f.height)):(f.left-=(a-f.width)/2,f.top-=(r-f.height)/2),f.width=a,f.height=r,f.ratio=e,c.renderImage(),t&&c.tooltip()),c},rotate:function(e){var t=this;return t.rotateTo((t.imageData.rotate||0)+Number(e)),t},rotateTo:function(e){var t=this,i=t.imageData;return e=Number(e),l(e)&&t.isViewed&&!t.isPlayed&&t.options.rotatable&&(i.rotate=e,t.renderImage()),t},scale:function(e,t){var i=this,n=i.imageData,a=!1;return c(t)&&(t=e),e=Number(e),t=Number(t),i.isViewed&&!i.isPlayed&&i.options.scalable&&(l(e)&&(n.scaleX=e,a=!0),l(t)&&(n.scaleY=t,a=!0),a&&i.renderImage()),i},scaleX:function(e){var t=this;return t.scale(e,t.imageData.scaleY),t},scaleY:function(e){var t=this;return t.scale(t.imageData.scaleX,e),t},play:function(){var e,t=this,i=t.options,n=t.player,a=b(t.loadImage,t),r=[],o=0,s=0;return!t.isShown||t.isPlayed?t:(i.fullscreen&&t.requestFullscreen(),t.isPlayed=!0,k(n,"viewer-show"),g(t.items,function(e,t){var l=X(e,"img")[0],c=G.createElement("img");c.src=I(l,"originalUrl"),c.alt=l.getAttribute("alt"),o++,k(c,"viewer-fade"),T(c,ae,i.transition),E(e,"viewer-active")&&(k(c,ne),s=t),r.push(c),V(c,"load",a,!0),O(n,c)}),l(i.interval)&&i.interval>0&&(e=function(){t.playing=setTimeout(function(){z(r[s],ne),s++,s=s<o?s:0,k(r[s],ne),e()},i.interval)},o>1&&e()),t)},stop:function(){var e=this,t=e.player;return e.isPlayed?(e.options.fullscreen&&e.exitFullscreen(),e.isPlayed=!1,clearTimeout(e.playing),z(t,"viewer-show"),W(t),e):e},full:function(){var e=this,t=e.options,i=e.viewer,n=e.image,a=e.list;return!e.isShown||e.isPlayed||e.isFulled||!t.inline?e:(e.isFulled=!0,e.open(),k(e.button,"viewer-fullscreen-exit"),t.transition&&(z(n,ae),z(a,ae)),k(i,"viewer-fixed"),i.setAttribute("style",""),y(i,{zIndex:t.zIndex}),e.initContainer(),e.viewerData=p({},e.containerData),e.renderList(),e.initImage(function(){e.renderImage(function(){t.transition&&setTimeout(function(){k(n,ae),k(a,ae)},0)})}),e)},exit:function(){var e=this,t=e.options,i=e.viewer,n=e.image,a=e.list;return e.isFulled?(e.isFulled=!1,e.close(),z(e.button,"viewer-fullscreen-exit"),t.transition&&(z(n,ae),z(a,ae)),z(i,"viewer-fixed"),y(i,{zIndex:t.zIndexInline}),e.viewerData=p({},e.parentData),e.renderViewer(),e.renderList(),e.initImage(function(){e.renderImage(function(){t.transition&&setTimeout(function(){k(n,ae),k(a,ae)},0)})}),e):e},tooltip:function(){var e=this,t=e.options,i=e.tooltipBox,n=e.imageData;return e.isViewed&&!e.isPlayed&&t.tooltip?(q(i,we(100*n.ratio)+"%"),e.tooltiping?clearTimeout(e.tooltiping):t.transition?(e.fading&&N(i,"transitionend"),k(i,"viewer-show"),k(i,"viewer-fade"),k(i,ae),R(i),k(i,ne)):k(i,"viewer-show"),e.tooltiping=setTimeout(function(){t.transition?(V(i,"transitionend",function(){z(i,"viewer-show"),z(i,"viewer-fade"),z(i,ae),e.fading=!1},!0),z(i,ne),e.fading=!0):z(i,"viewer-show"),e.tooltiping=!1},1e3),e):e},toggle:function(){var e=this;return 1===e.imageData.ratio?e.zoomTo(e.initialImageData.ratio,!0):e.zoomTo(1,!0),e},reset:function(){var e=this;return e.isViewed&&!e.isPlayed&&(e.imageData=p({},e.initialImageData),e.renderImage()),e},update:function(){var e,t=this,i=[];return t.isImg&&!t.element.parentNode?t.destroy():(t.length=t.images.length,t.isBuilt&&(g(t.items,function(e,n){var a=X(e,"img")[0],r=t.images[n];r?r.src!==a.src&&i.push(n):i.push(n)}),y(t.list,{width:"auto"}),t.initList(),t.isShown&&(t.length?t.isViewed&&(e=m(t.index,i),e>=0?(t.isViewed=!1,t.view(fe(t.index-(e+1),0))):k(t.items[t.index],"viewer-active")):(t.image=null,t.isViewed=!1,t.index=0,t.imageData=null,W(t.canvas),W(t.title)))),t)},destroy:function(){var e=this,t=e.element;return e.options.inline?e.unbind():(e.isShown&&e.unbind(),C(t,"click",e._start)),e.unbuild(),F(t,"viewer"),e},open:function(){var e=this.body;k(e,"viewer-open"),e.style.paddingRight=this.scrollbarWidth+"px"},close:function(){var e=this.body;z(e,"viewer-open"),e.style.paddingRight=0},shown:function(){var e=this,t=e.options,i=e.element;e.transitioning=!1,e.isFulled=!0,e.isShown=!0,e.isVisible=!0,e.render(),e.bind(),v(t.shown)&&V(i,"shown",t.shown,!0),N(i,"shown")},hidden:function(){var e=this,t=e.options,i=e.element;e.transitioning=!1,e.isViewed=!1,e.isFulled=!1,e.isShown=!1,e.isVisible=!1,e.unbind(),e.close(),k(e.viewer,"viewer-hide"),e.resetList(),e.resetImage(),v(t.hidden)&&V(i,"hidden",t.hidden,!0),N(i,"hidden")},requestFullscreen:function(){var e=this,t=G.documentElement;!e.isFulled||G.fullscreenElement||G.mozFullScreenElement||G.webkitFullscreenElement||G.msFullscreenElement||(t.requestFullscreen?t.requestFullscreen():t.msRequestFullscreen?t.msRequestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullscreen&&t.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT))},exitFullscreen:function(){this.isFulled&&(G.exitFullscreen?G.exitFullscreen():G.msExitFullscreen?G.msExitFullscreen():G.mozCancelFullScreen?G.mozCancelFullScreen():G.webkitExitFullscreen&&G.webkitExitFullscreen())},change:function(e){var t=this,i=t.pointers,n=i[Object.keys(i)[0]],a=n.endX-n.startX,r=n.endY-n.startY;switch(t.action){case"move":t.move(a,r);break;case"zoom":t.zoom($(i),!1,e);break;case"switch":t.action="switched",me(a)>me(r)&&(a>1?t.prev():a<-1&&t.next())}g(i,function(e){e.startX=e.endX,e.startY=e.endY})},isSwitchable:function(){var e=this,t=e.imageData,i=e.viewerData;return e.length>1&&t.left>=0&&t.top>=0&&t.width<=i.width&&t.height<=i.height}},Z.DEFAULTS={inline:!1,button:!0,navbar:!0,title:!0,toolbar:!0,tooltip:!0,movable:!0,zoomable:!0,rotatable:!0,scalable:!0,transition:!0,fullscreen:!0,keyboard:!0,interval:5e3,minWidth:200,minHeight:100,zoomRatio:.1,minZoomRatio:.01,maxZoomRatio:100,zIndex:2015,zIndexInline:0,url:"src",ready:null,show:null,shown:null,hide:null,hidden:null,view:null,viewed:null},Z.TEMPLATE='<div class="viewer-container"><div class="viewer-canvas"></div><div class="viewer-footer"><div class="viewer-title"></div><ul class="viewer-toolbar"><li class="viewer-zoom-in" data-action="zoom-in"></li><li class="viewer-zoom-out" data-action="zoom-out"></li><li class="viewer-one-to-one" data-action="one-to-one"></li><li class="viewer-reset" data-action="reset"></li><li class="viewer-prev" data-action="prev"></li><li class="viewer-play" data-action="play"></li><li class="viewer-next" data-action="next"></li><li class="viewer-rotate-left" data-action="rotate-left"></li><li class="viewer-rotate-right" data-action="rotate-right"></li><li class="viewer-flip-horizontal" data-action="flip-horizontal"></li><li class="viewer-flip-vertical" data-action="flip-vertical"></li></ul><div class="viewer-navbar"><ul class="viewer-list"></ul></div></div><div class="viewer-tooltip"></div><div class="viewer-button" data-action="mix"></div><div class="viewer-player"></div></div>';var xe=i.Viewer;return Z.noConflict=function(){return i.Viewer=xe,Z},Z.setDefaults=function(e){p(Z.DEFAULTS,e)},n=[],void 0!==(a=function(){return Z}.apply(t,n))&&(e.exports=a),r||(i.Viewer=Z),Z})},5:function(e,t){function i(e){var e=e.replace(/\/[^\/]+$/,"");return""===e?"/":e}function n(e){return e.replace(/^.*\//,"")}function a(e,t){e=e.trim(),e.startsWith("/")||(e=t+"/"+e);for(var i=e.split("/"),n=[],a=0;a<i.length;a++)".."===i[a]?n.length>=1&&n.pop():""!==i[a]&&"."!==i[a]&&n.push(i[a]);return"/"+n.join("/")}t.dirName=i,t.fileName=n,t.convert=a},59:function(e,t,i){var n=i(0),a=i(1);i(5);i(20);var r=i(23),o=n("body").data("path").replace(/\/$/,""),s=!0;n(function(){var e=new r(n("#viewer")[0],{inline:!0,viewed:function(t){if(console.log("viewed"),s)return e.view(n("#viewer").children(".active").index()),s=!1,t.stopPropagation(),!1;n("#viewer img.active").removeClass("active");var i=n(t.detail.originalImage);i.addClass("active"),n("#viewer-name").text(i.attr("alt"))}});a.define("close",function(){location.href=o+"/files?path="+n("#viewer img.active").data("path")})})}},[59]);
//# sourceMappingURL=viewer.js.map
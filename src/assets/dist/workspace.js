webpackJsonp([3],{1:function(e,t,n){function i(e,t){for(var n=e.toLowerCase().split(/-|\+/),i={ctrlKey:"",altKey:"",shiftKey:""},e=n[n.length-1],r=0;r<n.length-1;r++)switch(n[r]){case"c":i.ctrlKey="c-";break;case"a":i.altKey="a-";break;case"s":i.shiftKey="s-"}e=i.ctrlKey+i.altKey+i.shiftKey+e,h[e]=t}function r(e,t,n){f[e]=t,d('[data-action="'+e+'"]').click(function(e){return e.preventDefault(),e.stopPropagation(),t(),!1}),void 0!==n&&n.forEach(function(t){l.hasOwnProperty(t)||(l[t]=[]),l[t].push(e)})}function o(e){f[e]()}function a(e){l.hasOwnProperty(e)&&l[e].forEach(function(e){c(e)})}function s(e){l.hasOwnProperty(e)&&l[e].forEach(function(e){u(e)})}function c(e){"string"==typeof e?d('[data-action="'+e+'"]').attr("disabled",!1):e.forEach(c)}function u(e){"string"==typeof e?d('[data-action="'+e+'"]').attr("disabled",!0):e.forEach(u)}var d=n(0);t.define=r,t.enable=c,t.disable=u,t.enableGroup=a,t.disableGroup=s,t.activate=o,t.bind=i;var f={},l={},h={};d(window).keydown(function(e){if(!e.defaultPrevented){var t="";return e.ctrlKey&&(t+="c-"),e.altKey&&(t+="a-"),e.shiftKey&&(t+="s-"),e.metaKey&&(t+="m-"),t+=e.key.toLowerCase(),h.hasOwnProperty(t)?(o(h[t]),!1):void 0}})},2:function(e,t,n){var i=n(0),r=n(4);i.ajaxSetup({headers:{"X-Csrf-Token":r.get("csrf_token")}}),t.shake=function(e,t){t=void 0===t?10:t;var n=2*t;return i(e).width(i(e).width()).animate({marginLeft:"+="+t},50).animate({marginLeft:"-="+n},50).animate({marginLeft:"+="+n},50).animate({marginLeft:"-="+t},50).queue(function(){i(e).css("width","").css("margin-left","").finish()})},t.onLongPress=function(e,t){var n=!1,i=function(e){n=!0},r=function(e){n=!1};e.addEventListener("touchstart",i),e.addEventListener("touchend",r),e.addEventListener("touchcancel",r),e.addEventListener("touchmove",r),e.addEventListener("contextmenu",function(e){if(n)return t(e)})},t.setProgress=function(e,t,n){var i=e.children[0],r=e.children[1];t=Math.floor(t),e.className=t>=100?"progress success":"progress active",i.style.width=t+"%",i.innerText=t+"%",void 0!==n&&(r.innerText=n)},t.handleLogin=function(e){var n=i("body").data("path").replace(/\/$/,"");i("#login").find("input").prop("disabled",!1),i(".login-frame").show(),i("#login").submit(function(){var r=i(this).find('[name="request_token"]').val();return i(this).find("input").prop("disabled",!0),i.ajax({url:n,method:"post",data:{request_token:r,username:i("#username").val(),password:i("#password").val(),remember:i("#remember_remember").is(":checked")?{remember:"remember"}:null},success:function(){i(".login-frame").css({overflow:"hidden",whiteSpace:"no-wrap"}).animate({width:0},function(){i(this).hide().css({overflow:"",whiteSpace:"",width:""}),i("#login").off("submit"),i("#password").val(""),e()})},error:function(e){i("#login").find("input").prop("disabled",!1),t.shake(i(".login-frame")),i("#username").select(),i("#password").val("")},global:!1}),!1})},t.handleError=function(e,n,o,a){var s=r.get("csrf_token");return o.headers["X-Csrf-Token"]!==s?(i.ajaxSetup({headers:{"X-Csrf-Token":s}}),o.headers["X-Csrf-Token"]=s,void i.ajax(o)):401===n.status?(i("#login-overlay").show(),i("#password").focus(),void t.handleLogin(function(){i("#login-overlay").hide(),i.ajax(o)})):(void 0!==n.responseJSON?alert(n.responseJSON.message):alert(n.responseText),t.shake(i("main > .frame")),void console.log(e,n,o,a))}},4:function(e,t,n){var i,r;!function(o){var a=!1;if(i=o,void 0!==(r="function"==typeof i?i.call(t,n,t,e):i)&&(e.exports=r),a=!0,e.exports=o(),a=!0,!a){var s=window.Cookies,c=window.Cookies=o();c.noConflict=function(){return window.Cookies=s,c}}}(function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var i in n)t[i]=n[i]}return t}function t(n){function i(t,r,o){var a;if("undefined"!=typeof document){if(arguments.length>1){if(o=e({path:"/"},i.defaults,o),"number"==typeof o.expires){var s=new Date;s.setMilliseconds(s.getMilliseconds()+864e5*o.expires),o.expires=s}o.expires=o.expires?o.expires.toUTCString():"";try{a=JSON.stringify(r),/^[\{\[]/.test(a)&&(r=a)}catch(e){}r=n.write?n.write(r,t):encodeURIComponent(String(r)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)),t=t.replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent),t=t.replace(/[\(\)]/g,escape);var c="";for(var u in o)o[u]&&(c+="; "+u,!0!==o[u]&&(c+="="+o[u]));return document.cookie=t+"="+r+c}t||(a={});for(var d=document.cookie?document.cookie.split("; "):[],f=/(%[0-9A-Z]{2})+/g,l=0;l<d.length;l++){var h=d[l].split("="),p=h.slice(1).join("=");this.json||'"'!==p.charAt(0)||(p=p.slice(1,-1));try{var m=h[0].replace(f,decodeURIComponent);if(p=n.read?n.read(p,m):n(p,m)||p.replace(f,decodeURIComponent),this.json)try{p=JSON.parse(p)}catch(e){}if(t===m){a=p;break}t||(a[m]=p)}catch(e){}}return a}}return i.set=i,i.get=function(e){return i.call(i,e)},i.getJSON=function(){return i.apply({json:!0},[].slice.call(arguments))},i.defaults={},i.remove=function(t,n){i(t,"",e(n,{expires:-1}))},i.withConverter=t,i}return t(function(){})})},5:function(e,t){function n(e){var e=e.replace(/\/[^\/]+$/,"");return""===e?"/":e}function i(e){return e.replace(/^.*\//,"")}function r(e,t){e=e.trim(),e.startsWith("/")||(e=t+"/"+e);for(var n=e.split("/"),i=[],r=0;r<n.length;r++)".."===n[r]?i.length>=1&&i.pop():""!==n[r]&&"."!==n[r]&&i.push(n[r]);return"/"+i.join("/")}t.dirName=n,t.fileName=i,t.convert=r},60:function(e,t,n){function i(e){this.name=e,this.state="loading",this.frame=null,this.onInit=null,this.onSuspend=null,this.onResume=null,this.onClose=null}var r=n(0),o=(n(1),n(2));n(5);r(document).ajaxError(o.handleError),window.BLOGSTEP={};var a={};i.prototype.init=function(){if("loaded"!==this.state)return void console.error("init: unexpected state",this.state,"app",this.name);this.state="initializing",null!==this.onInit&&this.onInit(this),this.state="running"},i.prototype.suspend=function(){if("running"!==this.state)return void console.error("suspend: unexpected state",this.state,"app",this.name);this.state="suspending",null!==this.onSuspend&&this.onSuspend(this),"suspending"===this.state&&(this.frame.hide(),this.state="suspended")},i.prototype.resume=function(){if("suspended"!==this.state)return void console.error("resume: unexpected state",this.state,"app",this.name);this.state="resuming",null!==this.onResume&&this.onResume(this),"resuming"===this.state&&(this.frame.show(),this.state="running")},BLOGSTEP.PATH=r("body").data("path").replace(/\/$/,""),BLOGSTEP.init=function(e,t){a[e].onInit=t,a[e].init()},BLOGSTEP.run=function(e){},function(e){a[e]=new i(e),r.ajax({url:BLOGSTEP.PATH+"/api/load",data:{name:e},method:"get",dataType:"html",success:function(t){var n=r("<div></div>");n.html(t);var i=n.find('link[rel="stylesheet"]'),o=n.find("script[src]");a[e].frame=n.find(".frame"),a[e].state="loaded",r("head").append(i),r("main").append(a[e].frame),r("body").append(o)}})}("test")}},[60]);
//# sourceMappingURL=workspace.js.map